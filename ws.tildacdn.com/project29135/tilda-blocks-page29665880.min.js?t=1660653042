window.browserLang=(window.navigator.userLanguage||window.navigator.language).toUpperCase().slice(0,2);window.tildaBrowserLang=window.browserLang;function t_throttle(fn,threshhold,scope){var last;var deferTimer;threshhold||(threshhold=250);return function(){var context=scope||this;var now=+new Date();var args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold)}else{last=now;fn.apply(context,args)}}}
function t706_onSuccessCallback(){var products=document.querySelector('.t706__cartwin-products');var cartBottom=document.querySelector('.t706__cartwin-bottom');var cartForm=document.querySelector('.t706 .t-form__inputsbox');if(products)t706_slideUp(products,10);if(cartBottom)t706_slideUp(cartBottom,10);if(cartForm)t706_slideUp(cartForm,700);try{tcart__unlockScroll()}catch(error){}}
function t706_slideUp(target,duration){if(!target)return;if(!duration&&duration!==0)duration=500;target.style.transitionProperty='height, margin, padding';target.style.transitionDuration=duration+'ms';target.style.boxSizing='border-box';target.style.height=target.offsetHeight+'px';target.style.overflow='hidden';target.style.height='0';target.style.paddingTop='0';target.style.paddingBottom='0';target.style.marginTop='0';target.style.marginBottom='0';setTimeout(function(){target.style.display='none';target.style.height='';target.style.paddingTop='';target.style.paddingBottom='';target.style.marginTop='';target.style.marginBottom='';target.style.overflow='';target.style.transitionDuration='';target.style.transitionProperty=''},duration)}
t_onReady(function(){t_onFuncLoad('t782_init',function(){t782_init()})});function t782_init(){window.tildaGetPaymentForm=function(price,product,paysystem,blockid,lid,uid,orderLink){var allRecords=document.querySelector('#allrecords');var nextUrl='htt'+'ps://forms.tildacdn'+'.com/payment/next/';var virtualPage='/tilda/'+blockid+'/payment/';var virtualTitle='Go to payment from '+blockid;if(window.Tilda&&typeof Tilda.sendEventToStatistics==='function'){Tilda.sendEventToStatistics(virtualPage,virtualTitle,product,price)}
var requestData={projectid:allRecords.getAttribute('data-tilda-project-id'),pageid:allRecords.getAttribute('data-tilda-page-id'),formskey:allRecords.getAttribute('data-tilda-formskey'),price:price,product:product,system:paysystem,recid:blockid,lid:lid?lid:'',uid:uid?uid:'',};var formData=new FormData();for(var key in requestData){formData.append(key,requestData[key])}
var request=new XMLHttpRequest();request.open('POST',nextUrl,!0);request.timeout=10000;request.responseType='json';request.send(formData);request.onload=function(){var data=request.response;if(orderLink){orderLink.classList.remove('t-btn_sending')}
submitFlag=0;if(data&&data.next&&data.next.type>''){var result=window.tildaForm.payment(document.querySelector('#'+blockid),data.next);successurl='';return!1}
if(data&&data.error){alert(data.error)}};request.onerror=function(error){if(orderLink){orderLink.classList.remove('t-btn_sending')}
submitFlag=0;var errorText='';if(error&&error.responseText>''){errorText=error.responseText+'. Please, try again later.'}else if(error&&error.statusText){errorText='Error ['+error.statusText+']. Please, try again later.'}else{errorText='Unknown error. Please, try again later.'}
alert(errorText)}};var payBox=document.querySelector('.js-payment-systembox');var submitFlag=0;var allOrderLinks=document.querySelectorAll('a[href^="#order:"]');if(!allOrderLinks.length)return;Array.prototype.forEach.call(allOrderLinks,function(orderLink){orderLink.addEventListener('click',listener,!0);function listener(event){event.preventDefault();if(submitFlag===1){return!1}
var isST100Exist=document.querySelector('.t706');if(isST100Exist){var text='Conflict error: there are two incompatible blocks on the page: ST100 and ST105. Please go to Tilda Editor and delete one of these blocks.';if(window.browserLang==='RU'){text='Ошибка: на странице есть два несовместимых блока: ST100 и ST105. Пожалуйста, перейдите в редактор Тильды и удалите один из этих блоков.'}
console.error(text);return!1}
orderLink.classList.add('t-btn_sending');submitFlag=1;var tempOrder=orderLink.getAttribute('href');var orderParameters;var price=0;var product='';var lid='';var uid='';if(tempOrder.substring(0,7)==='#order:'){tempOrder=tempOrder.split(':');orderParameters=tempOrder[1].split('=');price=t782_cart__cleanPrice(orderParameters[1]);product=t782_cart__escapeHtml(orderParameters[0])}else{var productElement=orderLink.closest('.js-product');if(productElement){if(product===''){product=productElement.querySelector('.js-product-name').textContent;product=product?product:''}
if(price===''||price===0){price=productElement.querySelector('.js-product-price').textContent;price=t782_cart__cleanPrice(price)}
lid=productElement.getAttribute('data-product-lid')||'';uid=productElement.getAttribute('data-product-uid')||productElement.getAttribute('data-product-gen-uid')||'';var optprice=0;var options=[];var productOptions=productElement.querySelectorAll('.js-product-option');Array.prototype.forEach.call(productOptions,function(option){var productOption=option.querySelector('.js-product-option-name').textContent;var checkedOption=option.querySelector('option:checked');if(!checkedOption)return;var productVariant=checkedOption.value;var productPrice=checkedOption.getAttribute('data-product-variant-price');productPrice=t782_cart__cleanPrice(productPrice);if(productOption&&productVariant){productOption=t782_cart__escapeHtml(productOption);productVariant=t782_cart__escapeHtml(productVariant);productVariant=productVariant.replace(/(?:\r\n|\r|\n)/g,'');if(productOption.length>1&&productOption.charAt(productOption.length-1)==':'){productOption=productOption.substring(0,productOption.length-1)}
optprice=optprice+parseFloat(productPrice).toFixed(2);options.push(productOption+'='+productVariant)}});if(options.length){product=product+': '+options.join(', ')}}}
var blockid=orderLink.closest('.r').getAttribute('id');var paySystems=document.querySelectorAll('.js-dropdown-paysystem .js-payment-system');if(!product){var closestTitle=orderLink.closest('.r').querySelector('.title');if(closestTitle){product=closestTitle.textContent}else{product=orderLink.textContent}}
if(paySystems.length===0){alert('Error: payment system is not assigned. Add payment system in the Site Settings.');orderLink.classList.remove('t-btn_sending');submitFlag=0;return}
if(paySystems.length===1){var currentPaySystem=paySystems[0].getAttribute('data-payment-system');tildaGetPaymentForm(price,product,currentPaySystem,blockid,lid,uid,orderLink);return}else{var payBoxPaddingLeft=parseInt(window.getComputedStyle(payBox).paddingLeft,10);var payBoxPaddingRight=parseInt(window.getComputedStyle(payBox).paddingRight,10);var payBoxOuterWidth=parseInt(window.getComputedStyle(payBox).width,10);var payBoxWidth=payBoxOuterWidth-(payBoxPaddingLeft+payBoxPaddingRight);var orderLinkOffset={top:orderLink.getBoundingClientRect().top+window.pageYOffset,left:orderLink.getBoundingClientRect().left+window.pageXOffset,};payBox.style.top=orderLinkOffset.top+'px';t782_setPayBoxCoordinate(payBox,payBoxWidth,orderLinkOffset,orderLink);payBox.style.marginTop='-40px';payBox.style.position='absolute';payBox.style.zIndex='9999999';document.querySelector('body').appendChild(payBox);window.addEventListener('resize',function(){if(window.getComputedStyle(payBox).display==='block'&&orderLink){payBox.style.top=orderLinkOffset.top+'px';t782_setPayBoxCoordinate(payBox,payBoxWidth,orderLinkOffset,orderLink)}});payBox.style.display='block';document.addEventListener('click',hidePayBox,!1);function hidePayBox(event){event.stopPropagation();event.preventDefault();if(!orderLink.contains(event.target)){var closestOrderLink=event.target.closest('a[href^="#order"]');orderLink.classList.remove('t-btn_sending');submitFlag=0;payBox.style.display='none';payBox.removeEventListener('click',sendRequest,!1);document.removeEventListener('click',hidePayBox,!1);if(closestOrderLink)closestOrderLink.click()}}
function sendRequest(event){event.preventDefault();var paySystem=event.target;payBox.style.display='none';tildaGetPaymentForm(price,product,paySystem.getAttribute('data-payment-system'),blockid,lid,uid,orderLink);payBox.removeEventListener('click',sendRequest,!1)}
payBox.addEventListener('click',sendRequest,!1)}
return!1}});function t782_setPayBoxCoordinate(payBox,payBoxWidth,orderLinkOffset,orderLink){var orderLinkWidth=orderLink.getBoundingClientRect().width;var currentOrderLinkOffset=orderLinkOffset.left+orderLinkWidth/2;var payBoxMargin=payBoxWidth/2;if(window.innerWidth<=375){payBox.style.left='50%';payBox.style.marginLeft='-'+payBoxWidth/2+'px'}else if(t782_isInViewport(payBox)){payBox.style.marginLeft='-'+payBoxMargin+'px'}else{payBox.style.left=currentOrderLinkOffset+'px';payBox.style.marginLeft='-'+payBoxMargin+'px'}}
function t782_isInViewport(element){var rect=element.getBoundingClientRect();return(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth))}
function t782_cart__escapeHtml(text){var map={'<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;',};return text.replace(/[<>"']/g,function(m){return map[m]})}
function t782_cart__cleanPrice(price){if(!price){price=0}else{price=price.replace(',','.');price=price.replace(/[^0-9\.]/g,'');price=parseFloat(price).toFixed(2);if(isNaN(price))price=0;price=parseFloat(price);price=price*1;if(price<0)price=0}
return price}}
if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector}
if(!Element.prototype.closest){Element.prototype.closest=function(s){var el=this;while(el&&el.nodeType===1){if(Element.prototype.matches.call(el,s)){return el}
el=el.parentElement||el.parentNode}
return null}}