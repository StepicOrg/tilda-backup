if("undefined"==typeof t_upwidget_lock){var t_upwidget__init=function(){function d(c){if(!$(this).hasClass("t-upwidget-container__button_disabled")&&!$(this).hasClass("t-upwidget-multi-button"))if(c=$(this).parent("div"),$(c).attr("data-tilda-upwidget-key")){if(0==$(c).find("input[type=file]").length){var f="true"==$(c).attr("data-tilda-upwidget-multiple")?'multiple="true"':"";$(c).append('<input type="file" size="32000000" role="upwidget-uploader-file" '+f+' accept="'+$(c).attr("data-tilda-accept")+
    '" style="display: none;">')}$(c).find("input[type=file]").click();$(".t-upwidget-container").off("change","input[type=file][role=upwidget-uploader-file]",h);$(".t-upwidget-container").on("change","input[type=file][role=upwidget-uploader-file]",h)}else $(this).css("pointer-events","none"),$(this).after(t_upwidget__cLang[11]+"<br>"+t_upwidget__cLang[12])}function n(c){if(!$(this).hasClass("t-upwidget-container__button_disabled")){c=$(this).parent("div").parent("div");var f="";0==$(c).find("input[type=file]").length&&
(f="true"==$(c).attr("data-tilda-upwidget-multiple")?'multiple="true"':"",$(c).append('<input type="file" size="32000000" role="upwidget-uploader-file" '+f+' accept="'+$(c).attr("data-tilda-accept")+'" style="display: none;">'));""==f&&delete t_upwidget__errorUpload[$(c).attr("id")];$(c).find("input[type=file]").click();$(".t-upwidget-container").off("change","input[type=file][role=upwidget-uploader-file]",h);$(".t-upwidget-container").on("change","input[type=file][role=upwidget-uploader-file]",h)}}
    function p(c){var f=$(this).parent("div").attr("fileid"),e=$(this).parents("div.t-upwidget-container__data");$(e).find("input[type=hidden]").each(function(){$(this).val()==f&&$(this).remove()});$(this).parents("table").fadeOut(300,function(){$(this).remove();x(e);r($(e).parent("div"),$(e).parent("div").attr("id"))});t(e)<t_upwidget__maxFiles&&($($(e).parent("div").find(".t-upwidget-container__button-indiv")[0]).removeClass("t-upwidget-container__button_disabled"),$($(e).parent("div").find(".t-upwidget-container__globalerror")[0]).fadeOut(300,
        function(){$(this).remove()}))}function h(){y($(this).parent("div"),this.files);$(this).remove()}function A(c){var f=$(this).parents("div.t-upwidget-container")[0];void 0!=$(this).data("curXHR")&&($(this).data("curXHR").abort(),t_upwidget__progressObj[$(f).attr("id")][$(this).data("curUPL")]=100);void 0!=t_upwidget__errorUpload[$(f).attr("id")][$(this).data("curUPL")]&&delete t_upwidget__errorUpload[$(f).attr("id")][$(this).data("curUPL")];$(this).parents("table").fadeOut(300,function(){$(this).remove();
        r(f,$(f).attr("id"))});t(f)<t_upwidget__maxFiles&&($($(f).parent("div").find(".t-upwidget-container__button-indiv")[0]).removeClass("t-upwidget-container__button_disabled"),$($(f).parent("div").find(".t-upwidget-container__globalerror")[0]).fadeOut(300,function(){$(this).remove()}))}function u(c){0<v()||(c=$(this).parent("div").find(".t-upwidget-container__data")[0],$(c).addClass("t-upwidget__show-files"))}function y(c,f){var e=$($(c).find("div.t-upwidget-container__data")[0]);if(""!=f.length){var d=
        t(e),g=t_upwidget__maxFiles-d,B=$(c).attr("id");if(f.length>t_upwidget__maxFiles)$($(c).find("div.t-upwidget-container__button")[0]).text(t_upwidget__cLang[10]).addClass("t-upwidget-container__button_error").removeClass("t-upwidget-container__button_fileholder");else for("true"==$(c).attr("data-tilda-upwidget-multiple")?d+f.length>=t_upwidget__maxFiles&&0==$(e).find(".t-upwidget-container__globalerror").length&&($($(e).find(".t-upwidget-container__button-indiv")[0]).before('<span class="t-upwidget-container__globalerror">'+
        t_upwidget__cLang[1]+"</span>"),$($(e).find(".t-upwidget-container__button-indiv")[0]).addClass("t-upwidget-container__button_disabled")):g=1,f.length<g&&(g=f.length),i=0;i<g;i++)"false"==$(c).attr("data-tilda-upwidget-multiple")&&(e.html(""),$(e).append('<div class="t-upwidget-container__button-indiv  t-text">'+t_upwidget__cLang[8]+"</div>")),$(e).append(C(f[i])),d=$(e).children("table:last").find("div.t-upwidget-container__data_progress_back"),D(f[i],c,d,B)}}function D(c,f,e,d){var g=$(f).attr("data-tilda-upwidget-key"),
        q=new XMLHttpRequest,l=new FormData,k=$(f).find("div.t-upwidget-container__data")[0];$(f).find(".t-upwidget-container__button");var m=++E;void 0==t_upwidget__progressObj[d]&&(t_upwidget__progressObj[d]={});t_upwidget__progressObj[d][m]=0;void 0==t_upwidget__errorUpload[d]&&(t_upwidget__errorUpload[d]=[]);$(e).parent("div").parent("td").children("svg").data("curXHR",q);$(e).parent("div").parent("td").children("svg").data("curUPL",m);q.upload.addEventListener("progress",function(c){c.lengthComputable&&
    (c=Math.round(100*c.loaded/c.total),100==c&&(c=99),t_upwidget__progressObj[d][m]=c,$(e).css("width",c+"%"),r(f,d))},!1);q.open("POST","https://upwidget.tildacdn.com/upload/",!0);q.onreadystatechange=function(){if(4==q.readyState&&200==q.status){var c=JSON.parse(q.response);"fail"==c.status?(t_upwidget__progressObj[d][m]=100,t_upwidget__errorUpload[d][m]=t_upwidget__cLang[3]+c.error,$(e).parent("div").parent("td").html('<span style="font-size: small; color: red">'+t_upwidget__cLang[3]+c.error+"</span>"+
        w)):(t_upwidget__progressObj[d][m]=100,c=c[0],$(e).parent("div").parent("td").html('<div class="t-upwidget-container__data_table_actions_remove" fileid="'+c.url+"/"+encodeURIComponent(c.filename)+'"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 14 18"><g style="fill:none;stroke-width:1;stroke:none"><g fill="#000"><path d="M1 16C1 17.1 1.9 18 3 18L11 18C12.1 18 13 17.1 13 16L13 4 1 4 1 16ZM14 1L10.5 1 9.5 0 4.5 0 3.5 1 0 1 0 3 14 3 14 1Z"/></g></g></svg>\n</div>'),c='<input type="hidden" value="'+
        c.url+"/"+encodeURIComponent(c.filename)+'">',$(k).append(c),x(k));r(f,d)}};q.onerror=function(){t_upwidget__progressObj[d][m]=100;r(f,d);$(e).parent("div").parent("td").html(t_upwidget__cLang[0]+w)};l.append(g,c);q.send(l)}function x(c){var f=$(c).parent("div").attr("data-tilda-name");$(c).parent("div").find(".t-upwidget-container__button");var e=[];$(c).find("input[type=hidden]").each(function(){e.push($(this).val());$(this).remove()});var d="",g=0;for(g=0;g<e.length;g++)d=0==g?d+('<input name="'+
        f+'" type="hidden" value="'+e[g]+'">'):d+('<input name="'+f+"_"+g+'" type="hidden" value="'+e[g]+'">');$(c).append(d)}function r(c,d){var e=$(c).find("div.t-upwidget-container__button")[0],f=0,g=0,h;for(h in t_upwidget__progressObj[d])f++,g+=t_upwidget__progressObj[d][h];g=Math.round(g/f);if(100==g){f=t($(c).find("div.t-upwidget-container__data")[0]);g="";if(void 0!=t_upwidget__errorUpload[d]&&0<t_upwidget__errorUpload[d].length){for(var l in t_upwidget__errorUpload[d])g=t_upwidget__errorUpload[d][l];
        $(e).text(g).addClass("t-upwidget-container__button_error").addClass("t-upwidget-multi-button").removeClass("t-upwidget-container__button_fileholder");return}$(e).removeClass("t-upwidget-container__button_error");switch(f){case 0:v();l="false"==$(c).attr("data-tilda-upwidget-multiple")?t_upwidget__cLang[2]:t_upwidget__cLang[4];$(e).text(l).removeClass("t-upwidget-multi-button").removeClass("t-upwidget-container__button_fileholder");break;case 1:l=$(c).find(".t-upwidget-container__data_filename")[0];
        f=$(c).find(".t-upwidget-container__data_fileextension")[0];$(e).addClass("t-upwidget-multi-button").addClass("t-upwidget-container__button_fileholder");$(e).text("").html(z);$(l).clone().appendTo($(e));$(f).clone().appendTo($(e));break;default:$(e).html(z+t_upwidget__cLang[6]+f+t_upwidget__cLang[7]).addClass("t-upwidget-multi-button").addClass("t-upwidget-container__button_fileholder")}}else $(e).removeClass("t-upwidget-container__button_error"),$(e).addClass("t-upwidget-multi-button"),$(e).text(t_upwidget__cLang[5]+
        g+"%").removeClass("t-upwidget-container__button_error");0==t($(c).find("div.t-upwidget-container__data")[0])&&"1"==$(c).attr("data-tilda-req")?0==$(c).find('input[type=hidden][data-tilda-req="1"]').length&&$(c).append('<input type="hidden" class="js-tilda-rule" value="" name="'+$(c).attr("data-tilda-name")+'" data-tilda-req="1">'):$($(c).find('input[type=hidden][data-tilda-req="1"]')[0]).remove()}function v(){var c=0;$(".t-upwidget-container__data").each(function(){$(this).hasClass("t-upwidget__show-files")&&
    (c++,$(this).removeClass("t-upwidget__show-files"))});return c}function C(c){var d="."+c.name.split(".").pop(),e=c.name.substr(0,c.name.length-d.length);14<e.length&&(d=e.substr(e.length-7).trim()+d,e=e.substr(0,e.length-7).trim());c=c.size;var h=-1;do c/=1E3,h++;while(1E3<c);c=Math.round(10*c)/10;return'<table class="t-upwidget-container__data_table t-text">\n            <tbody>\n            <tr>\n                <td rowspan="2" class="t-upwidget-container__data_table_image">\n<svg xmlns="http://www.w3.org/2000/svg" width="28" style="vertical-align: middle;" viewBox="0 0 64 64"><style>.a{fill:none;stroke-width:2;stroke:#000;}</style><polygon points="23 1 55 1 55 63 9 63 9 15 " class="a"/><polyline points="9 15 23 15 23 1 " class="a"/></svg>\n                </td>\n                <td class="t-upwidget-container__data_table_fileinfo">\n                    <div class="t-upwidget-container__data_filename">'+
        e+'</div><div class="t-upwidget-container__data_fileextension">'+d+'</div>                    <div class="t-upwidget-container__data_filesize">'+(c+{RU:["\u041a\u0411","\u041c\u0411","\u0413\u0411","\u0422\u0411"],EN:["KB","MB","GB","TB"]}[t_upwidget__userLang][h])+'</div>                </td>\n            </tr>\n            <tr>\n                <td class="t-upwidget-container__data_table_actions">\n                    <div class="t-upwidget-container__data_progress">\n                        <div class="t-upwidget-container__data_progress_back"></div>\n                    </div>\n'+
        w+"                </td>\n            </tr>\n            </tbody>\n        </table>"}function t(c){return $(c).find("input[type=hidden]").length}function F(c){$.get("https://upwidget.tildacdn.com/upload/?get_mime="+$(c).attr("data-tilda-upwidget-key"),function(d){"ok"==d.status?$(c).attr("data-tilda-accept",d.mime):$(c).attr("data-tilda-accept","")},"json")}function G(c){c.preventDefault();c.stopPropagation()}function H(c){c.preventDefault();c.stopPropagation();c=c.originalEvent.target.files||c.originalEvent.dataTransfer.files;
        y($(this).parent("div"),c)}0==$(".t-upwidget-container").length&&$("body").append("<style>.t-upwidget-container__image-done{vertical-align:middle;margin-left:0;margin-right:8px;filter:contrast(4) invert(1)}.t-upwidget-container__button-indiv{font-weight:400;line-height:30px;cursor:pointer;width:150px;background-color:black;padding:0;margin:0;vertical-align:middle;color:white;white-space:nowrap;text-align:center;height:30px;margin-left:30px;margin-bottom:30px}.t-upwidget__show-files.t-upwidget-container__data{display:block;width:300px!important;text-align:left;overflow-y:scroll;max-height:80vh;background-color:rgba(255,255,255,1);z-index:9999;padding-top:20px;position:absolute;box-shadow:0 2px 10px rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.05)}.t-upwidget-container__button{font-weight:400;max-width:250px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:table;background-color:black;color:white;text-align:center;padding:0 20px 0 20px;line-height:38px!important;cursor:pointer}.t-upwidget-container__button.t-upwidget-container__button_error{text-align:left;color:red;padding:0 12px 0 12px;font-size:small}.t-upwidget-container__button.t-upwidget-container__button_fileholder{text-align:left;color:white;padding:0 12px 0 12px}.t-upwidget-container__button_disabled{opacity:.6;cursor:default}.t-upwidget-container__data{display:none}.t-upwidget-container__data_table{table-layout:fixed;width:298px;font-size:14px;margin:0;padding:0;margin-bottom:15px}.t-upwidget-container__data_table_image{width:35px;padding:0;margin:0;text-align:center}.t-upwidget-container__data_table_fileinfo{white-space:nowrap;padding:0;margin:0;vertical-align:bottom}.t-upwidget-container__data_table_actions_remove svg{cursor:pointer}.t-upwidget-container__data_filename{padding:0;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:120px;display:inline-block;vertical-align:middle}.t-upwidget-container__data_fileextension{padding:0;margin:0;display:inline-block;vertical-align:middle}.t-upwidget-container__data_filesize{padding-left:2px;opacity:.6;display:inline-block;vertical-align:middle}.t-upwidget-container__data_progress{width:65%;height:6px;vertical-align:middle;display:inline-block;border:1px solid grey;opacity:.7}.t-upwidget-container__data_progress_back{background-color:gray;width:0;height:100%}.t-upwidget-container__globalerror{font-weight:700;margin:10px;display:block}.t-form.js-error-control-box.t-upwidget-container__button{border:1px solid #FF0000!important}</style>");
    Object.size=function(c){var d=0,e;for(e in c)c.hasOwnProperty(e)&&d++;return d};var E=0;$("input[role=upwidget-uploader]").each(function(){$(this).css("display","none");$(this).wrap('<div class="t-upwidget-container"></div>');var c=$(this).parent("div");$(this).attr("data-tilda-upwidget-key");var f=(Math.random()+"").substr(2),e=$(this).closest("form").find(".t-submit"),h=e.attr("style").split(";"),g=!1,r=!1,l=[],k=[],m;for(m in h)if(parseInt(m)==m&&"undefined"!=typeof h[m]&&""!=h[m]){var t=h[m].split(":");
        l[t[0]]=t[1]}"undefined"===typeof l.color?k.color=stringToRGBArray(e.css("color")):(k.color=hexToRgb(l.color),g=!0);"undefined"===typeof l["background-color"]||-1<l["background-color"].indexOf("transparent")?k["background-color"]=stringToRGBArray(e.css("background-color")):(k["background-color"]=hexToRgb(l["background-color"]),r=!0);k["border-radius"]="undefined"===typeof l["border-radius"]?e.css("border-radius"):l["border-radius"];k["font-family"]="undefined"===typeof l["font-family"]?e.css("font-family"):
        l["font-family"];k["font-size"]="undefined"===typeof l["font-size"]?e.css("font-size"):l["font-size"];e="";if(!0===r&&!0===g&&k["background-color"]&&k.color&&40<deltaE(k.color,k["background-color"])){k.color=rgbToHex(k.color[0],k.color[1],k.color[2]);k["background-color"]=rgbToHex(k["background-color"][0],k["background-color"][1],k["background-color"][2]);for(m in k)e+=m+":"+k[m]+";";e='style="'+e+'"'}$(c).attr("data-tilda-name",$(this).attr("name")).attr("data-tilda-upwidget-key",$(this).attr("data-tilda-upwidget-key")).attr("data-tilda-req",
        $(this).attr("data-tilda-req")).attr("id",f);void 0!=$(this).attr("data-tilda-upwidget-multiple")?$(c).attr("data-tilda-upwidget-multiple","true").append("<div "+e+' class="t-upwidget-container__button t-text">'+t_upwidget__cLang[4]+"</div>"):$(c).attr("data-tilda-upwidget-multiple","false").append("<div "+e+' class="t-upwidget-container__button t-text">'+t_upwidget__cLang[2]+"</div>");$(c).append('<div class="t-upwidget-container__data"><div class="t-upwidget-container__button-indiv t-text">'+t_upwidget__cLang[9]+
        "</div></div>");"1"==$(c).attr("data-tilda-req")&&$(c).append('<input type="hidden" value="" class="js-tilda-rule" name="'+$(c).attr("data-tilda-name")+'" data-tilda-req="1">');F($(c));$("#"+f).on("click",".t-upwidget-container__button",d);$("#"+f).on("click",".t-upwidget-container__button-indiv",n);$("#"+f).on("click",".t-upwidget-container__data_table_actions_remove svg",p);$("#"+f).on("click",".t-upwidget-container__data_progress_stop",A);$("#"+f).on("click",".t-upwidget-multi-button",u);$("#"+
        f).on("dragover dragleave",".t-upwidget-container__button",G);$("#"+f).on("drop",".t-upwidget-container__button",H);$(this).remove();return"true"});var z='<svg xmlns="http://www.w3.org/2000/svg" class="t-upwidget-container__image-done" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',w='<svg class="t-upwidget-container__data_progress_stop" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                    viewBox="0 0 72.434 72.44" style="margin-left: 15px; cursor: pointer; vertical-align: middle; enable-background:new 0 0 72.434 72.44;" xml:space="preserve">\n                            <path style="fill:#231F20;" d="M36.22,0C16.212,0,0,16.216,0,36.227c0,19.999,16.212,36.214,36.22,36.214\n                                c20.011,0,36.214-16.215,36.214-36.214C72.434,16.215,56.231,0,36.22,0z M52.058,46.82c1.379,1.424,0.953,4.078-0.959,5.932\n                                c-1.911,1.854-4.577,2.209-5.959,0.785l-9.027-9.295l-9.298,9.027c-1.421,1.379-4.075,0.947-5.929-0.961s-2.206-4.574-0.785-5.956\n                                l9.298-9.027l-9.027-9.298c-1.379-1.421-0.946-4.078,0.962-5.932c1.905-1.851,4.577-2.204,5.953-0.785l9.027,9.297l9.301-9.023\n                            c1.424-1.382,4.078-0.95,5.929,0.958c1.857,1.908,2.206,4.577,0.785,5.959l-9.295,9.024L52.058,46.82z"/>\n                    </svg>';
    $("body").on("keyup",function(c){27==c.keyCode&&v()});$("body").on("click",function(c){$(c.target).hasClass("t-upwidget-container__button")||$(c.target).is("input[type=file]")||$(c.target).hasClass("t-upwidget-container__data_filename")||$(c.target).hasClass("t-upwidget-container__data_fileextension")||$(c.target).closest(".t-upwidget-container__data").length||v()})},t_upwidget_lock=!0,t_upwidget__maxFiles=10,t_upwidget__userLang=-1!=(navigator.language||navigator.browserLanguage).toLowerCase().indexOf("ru")?
    "RU":"EN";"undefined"!==typeof UPLOADCARE_LOCALE&&""!==UPLOADCARE_LOCALE&&(t_upwidget__userLang=UPLOADCARE_LOCALE.toUpperCase());var t_upwidget_translation={RU:{0:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430",1:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 "+t_upwidget__maxFiles+" \u0444\u0430\u0439\u043b\u043e\u0432",
        2:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b",3:"\u041e\u0448\u0438\u0431\u043a\u0430: ",4:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b",5:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ",6:"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e ",7:" \u0444\u0430\u0439\u043b\u0430(\u043e\u0432)",8:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c",9:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b",
        10:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c "+t_upwidget__maxFiles+" \u0444\u0430\u0439\u043b\u043e\u0432",11:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d TILDA UPLOAD WIDGET KEY",12:'<a target="_blank" href="http://help-ru.tilda.ws/upwidget-api-key">\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f</a>'},EN:{0:"File upload error",1:"You can upload no more than "+t_upwidget__maxFiles+" files",2:"Add file",3:"Upload error: ",4:"Add files",5:"Uploading ",6:"Uploaded ",7:" files",
        8:"Replace",9:"Add more files",10:"Maximum "+t_upwidget__maxFiles+" files",11:"TILDA UPLOAD WIDGET KEY is not specified",12:'<a target="_blank" href="http://help.tilda.ws/upwidget-api-key">Detailed instruction</a>'}},t_upwidget__cLang=t_upwidget_translation[t_upwidget__userLang],t_upwidget__progressObj={},t_upwidget__errorUpload={};$(document).ready(function(){t_upwidget__init()})}
function tn_luma_rgb(d){if("undefined"==typeof d||0!=d.indexOf("rgb"))return"black";d=d.split("(")[1].split(")")[0].split(",");return 3>d.length?"black":128<.2126*d[0]+.7152*d[1]+.0722*d[2]?"black":"white"}
function RGB_to_XYZ(d){var_R=parseFloat(d[0]/255);var_G=parseFloat(d[1]/255);var_B=parseFloat(d[2]/255);var_R=.04045<var_R?Math.pow(parseFloat((var_R+.055)/1.055),2.4):parseFloat(var_R/12.92);var_G=.04045<var_G?Math.pow(parseFloat((var_G+.055)/1.055),2.4):parseFloat(var_G/12.92);var_B=.04045<var_B?Math.pow(parseFloat((var_B+.055)/1.055),2.4):parseFloat(var_B/12.92);var_R*=100;var_G*=100;var_B*=100;X=.4124*var_R+.3576*var_G+.1805*var_B;Y=.2126*var_R+.7152*var_G+.0722*var_B;Z=.0193*var_R+.1192*var_G+
    .9505*var_B;return[X,Y,Z]}function XYZ_to_LAB(d){var_X=parseFloat(d[0]/100);var_Y=parseFloat(d[1]/100);var_Z=parseFloat(d[2]/100);var_X=.008856<var_X?Math.pow(var_X,1/3):7.787*var_X+16/116;var_Y=.008856<var_Y?Math.pow(var_Y,1/3):7.787*var_Y+16/116;var_Z=.008856<var_Z?Math.pow(var_Z,1/3):7.787*var_Z+16/116;L=116*var_Y-16;a=500*(var_X-var_Y);b=200*(var_Y-var_Z);return[L,a,b]}function RGB_to_LAB(d){return XYZ_to_LAB(RGB_to_XYZ(d))}
function deltaE(d,n){var p=RGB_to_LAB(d),h=RGB_to_LAB(n);return Math.sqrt((p[0]-h[0])*(p[0]-h[0])+(p[1]-h[1])*(p[1]-h[1])+(p[2]-h[2])*(p[2]-h[2]))}function stringToRGBArray(d){if("undefined"==typeof d||0!=d.indexOf("rgb"))return[0,0,0];d=d.split("(")[1].split(")")[0].split(",");return 3>d.length?[0,0,0]:d}
function hexToRgb(d){d=d.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(d,h,n,u){return h+h+n+n+u+u});var n=(d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d))?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16)}:null;return d?[n.r,n.g,n.b]:null}function rgbToHex(d,n,p){return"#"+(16777216+(d<<16)+(n<<8)+p).toString(16).slice(1)};