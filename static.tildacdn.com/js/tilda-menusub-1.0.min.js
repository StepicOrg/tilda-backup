function t_menusub_init(u){var t=document.querySelectorAll("#rec"+u+" .t-menusub"),e=(Array.prototype.forEach.call(t,function(t){var e,n,t=t.getAttribute("data-submenu-hook");t&&(e=!1,n=document.querySelectorAll("#rec"+u+" a.t-menu__link-item"),Array.prototype.forEach.call(n,function(t){t.getAttribute("data-menu-submenu-hook")&&(e=!0)}),n=e?document.querySelectorAll('a[data-menu-submenu-hook="'+t+'"]'):document.querySelectorAll('a[href="'+t+'"]'),Array.prototype.forEach.call(n,function(t){t.classList.add("t-menusub__target-link"),t.setAttribute("data-tooltip-menu-id",u)}),t_menusub_add_arrow(u,n,t),t_menusub_set_up_menu(u,n,t),t_menusub_highlight(),t_menusub_checkAnchorLinks(u))}),window.isMobile?"orientationchange":"resize");window.addEventListener(e,function(){Array.prototype.forEach.call(t,function(t){t=t.querySelectorAll(".t-menusub__menu");Array.prototype.forEach.call(t,function(t){t_menusub_hide_submenu(t)})})})}function t_menusub_set_up_menu(n,u,t){t=document.querySelectorAll("#rec"+n+' .t-menusub[data-submenu-hook="'+t+'"] .t-menusub__menu');Array.prototype.forEach.call(t,function(e){var t=e.querySelectorAll(".t-menusub__content");(window.isMobile?t_menusub_set_up_menu_mobile:t_menusub_set_up_menu_desktop)(n,u,e),window.addEventListener("scroll",t_throttle(function(){Array.prototype.forEach.call(t,function(t){t.addEventListener("mouseleave",function(){window.isMobile||e.classList.contains("t-menusub__menu_show")&&t_menusub_hide_submenu(e)})})}))})}function t_menusub_open_inME401(t){var e,n=t.querySelector(".t280__menu__wrapper");n&&!n.classList.contains("t280__menu_static")&&(n=t.querySelector(".t280__menu"),e=t.querySelector(".t280__bottom"),t=t.querySelector(".t280__menu__wrapper"),n&&(n.style.transition="none"),e&&(e.style.transition="none"),t&&t.classList.add("t280__menu_static"))}function t_menusub_close_inME401(t){var e=t.querySelector(".t280__menu__wrapper");e&&e.classList.contains("t280__menu_static")&&((e=t.querySelector(".t280__menu__wrapper"))&&e.classList.remove("t280__menu_static"))}function t_menusub_set_up_menu_mobile(o,t,s){var e=document.querySelector("#rec"+o+" .t-menusub"),i=e?e.getAttribute("data-submenu-margin"):"";Array.prototype.forEach.call(t,function(u){u.addEventListener("click",function(t){var e,n;t.preventDefault(),980<window.innerWidth&&(t=document.querySelectorAll("#rec"+o+" .t-menusub__menu"),Array.prototype.forEach.call(t,function(t){t_menusub_hide_submenu(t)})),s.classList.contains("t-menusub__menu_show")?t_menusub_hide_submenu(s):(t_menusub_show(u,s,i),(t=u.closest(".t280"))&&(n=t.querySelector(".t280__menu__wrapper"),e=t_menusub_is_mobile_ME401(t),n=n?n.getAttribute("data-submenu-static"):"",t_menusub_is_static_ME401(t),"n"===n&&t&&e&&t_menusub_open_inME401(t)))})}),document.addEventListener("click",function(t){var e=t.target.classList.contains("t-menusub__menu")||t.target.closest(".t-menusub__menu"),n=t.target.classList.contains("t-menusub__target-link")||t.target.closest(".t-menusub__target-link");t.target.classList.contains("t794__tm-link")||t.target.classList.contains("t966__tm-link")||(!n||(t.target.classList.contains("t-menusub__target-link")?t.target:t.target.closest(".t-menusub__target-link")).getAttribute("data-tooltip-menu-id")!==o&&s.classList.contains("t-menusub__menu_show")&&t_menusub_hide_submenu(s),e||n||!s.classList.contains("t-menusub__menu_show")||t_menusub_hide_submenu(s))})}function t_menusub_set_up_menu_desktop(t,u,o){t=document.querySelectorAll("#rec"+t+" .t-menusub");Array.prototype.forEach.call(t,function(t){var e,n=t.getAttribute("data-submenu-margin");Array.prototype.forEach.call(u,function(t){t.addEventListener("mouseover",function(){t_showMenuOnHover(t,e,o,n)}),t.addEventListener("mouseout",function(){e=setTimeout(function(){t_menusub_hide_submenu(o)},300)}),t.addEventListener("click",function(t){t.preventDefault()}),t.addEventListener("auxclick",function(t){t.preventDefault()})}),o.addEventListener("mouseover",function(){t_showMenuOnHover(o,e,o,n)}),o.addEventListener("mouseout",function(){e=setTimeout(function(){t_menusub_hide_submenu(o)},300)})})}function t_showMenuOnHover(t,e,n,u){t.classList.contains("t-menusub__menu")&&!t.classList.contains("t-menusub__menu_show")||(clearTimeout(e),t.classList.contains("t-menusub__menu")&&t.classList.contains("t-menusub__menu_show")||t_menusub_show(t,n,u))}function t_menusub_show(t,e,n){var u=t.offsetHeight,o=t.offsetWidth,s=0,i="0",r=(t&&(s=parseInt(t.style.marginLeft)||0,i=window.getComputedStyle(t).getPropertyValue("margin-top")||"0"),window.innerHeight),l=window.innerWidth,_=window.pageYOffset,n=n?parseInt(n,10)+10:0,i=t.offsetTop-parseInt(i,10)+u+n,a=t_menusub__getLeftRelativePos(t),m=(e.style.display="block",e.offsetHeight),c=e.offsetWidth;_+r<i+m?(i=Math.max(i-m-u-2*n,_),e.classList.remove("t-menusub__menu_bottom"),e.classList.add("t-menusub__menu_top")):(e.classList.remove("t-menusub__menu_top"),e.classList.add("t-menusub__menu_bottom")),window.innerWidth<=980&&(i=0);r=t.getBoundingClientRect().left+o/2-20-e.getBoundingClientRect().left;a+c/2<l?(a=a+(o-c)/2+s)<0?(a=10,e.classList.add("t-menusub__menu-custompos"),e.style.setProperty("--custom-pos",r+"px")):e.classList.remove("t-menusub__menu-custompos"):a=l-c-10,e.style.right="",e.style.left=a+"px",e.style.top=i+"px",e.offsetHeight,e.classList.add("t-menusub__menu_show"),t.classList.add("t-menusub__target-link_active"),e.getBoundingClientRect().right>window.innerWidth&&(e.style.left="",e.style.right="0",e.classList.add("t-menusub__menu-custompos"),e.style.setProperty("--custom-pos",r+"px"))}function t_menusub__getLeftRelativePos(t){var e=0;if("fixed"===window.getComputedStyle(t).getPropertyValue("position"))n=t.getBoundingClientRect().left;else{for(var n=t.getClientRects().length?t.getBoundingClientRect().left:0,u=t.offsetParent;u&&1===u.nodeType&&"static"===window.getComputedStyle(u).getPropertyValue("position");)u=u.offsetParent;u&&u!==t&&1===u.nodeType&&(e=u.getClientRects().length?u.getBoundingClientRect().left:0)}return n-e}function t_menusub_hide_submenu(t){var e=document.querySelector(".t-menusub__target-link_active"),e=(e&&e.classList.remove("t-menusub__target-link_active"),t.style.display="",t.style.left="",t.style.top="",t.classList.remove("t-menusub__menu_show"),t.closest(".t280"));if(!e)return!1;var t=t_menusub_is_mobile_ME401(e),n=e.querySelector(".t280__menu__wrapper"),n=n?n.getAttribute("data-submenu-static"):"",u=e.querySelectorAll(".t280__menu .t-menusub__menu_show");"n"===n&&window.isMobile&&t&&!u.length&&t_menusub_close_inME401(e)}function t_menusub_add_arrow(t,e,n){t=document.querySelector("#rec"+t+' .t-menusub[data-submenu-hook="'+n+'"]');t&&t.getAttribute("data-add-submenu-arrow")&&Array.prototype.forEach.call(e,function(t){t.insertAdjacentHTML("beforeend",'<div class="t-menusub__arrow"></div>')})}function t_menusub_highlight(){var t=window.location.href,e=window.location.pathname,t='.t-menusub__list-item a[href="'+t+'"], .t-menusub__list-item a[href="'+t+'/"], .t-menusub__list-item a[href="'+(e=""===(e="/"===e.charAt(0)?e.slice(1):e)?"/":e)+'"], .t-menusub__list-item a[href="/'+e+'"], .t-menusub__list-item a[href="'+e+'/"], .t-menusub__list-item a[href="/'+e+'/"]',e=document.querySelectorAll(t);Array.prototype.forEach.call(e,function(t){t.classList.add("t-active")})}function t_menusub_is_static_ME401(t){!t||(t=t.querySelector(".t280__menu__wrapper"))&&t.classList.contains("t280__menu_static")&&t.setAttribute("data-submenu-static","n")}function t_menusub_is_mobile_ME401(t){var e=t.querySelector(".t280__menu"),n=t.querySelector(".t280__bottom"),t=t.querySelector(".t280__container"),e=e?e.offsetHeight:0,n=n?n.offsetHeight:0,t=t?t.offsetHeight:0;return window.innerHeight-n-t-40<e}function t_menusub_checkAnchorLinks(t){960<=window.innerWidth&&((t=document.querySelectorAll("#rec"+t+' a:not(.tooltipstered)[href*="#"].t-menusub__link-item')).length&&t_menusub_catchScroll(t))}function t_menusub_catchScroll(t){var e,n,u=null,o=[],s=[],i=[];Array.prototype.forEach.call(t,function(t){i.push(t)}),i.reverse(),Array.prototype.forEach.call(i,function(e){var t=t_menusub_getSectionByHref(e);t&&t.length&&Array.prototype.forEach.call(t,function(t){t.id&&o.push(t),s[t.id]=e}),e.addEventListener("click",function(){var t;e.classList.contains("tooltipstered")||(e.classList.remove("t-active"),(t=t_menusub_getSectionByHref(e))&&t.length&&Array.prototype.forEach.call(t,function(t){s[t.id].classList.add("t-active"),u=t.id}))})}),t_menusub_highlightNavLinks(i,o,s,u),window.addEventListener("resize",t_throttle(function(){t_menusub_updateSectionsOffsets(o)})),setTimeout(function(){t_menusub_updateSectionsOffsets(o),t_menusub_highlightNavLinks(i,o,s,u)},1e3),window.addEventListener("scroll",t_throttle(function(){var t=(new Date).getTime();e&&t<e+100?(clearTimeout(n),n=setTimeout(function(){e=t,u=t_menusub_highlightNavLinks(i,o,s,u)},100-(t-e))):(e=t,u=t_menusub_highlightNavLinks(i,o,s,u))}))}function t_menusub_getSectionByHref(t){var e,t=t.getAttribute("href"),n="",t=(t&&(n=t.replace(/\s+/g,"").substring(1)),document.querySelectorAll('.r[id="'+n+'"]')),u=document.querySelectorAll('.r[data-record-type="215"]');return u.length&&(e=0,Array.prototype.forEach.call(u,function(t){t.querySelector('a[name="'+n+'"]')&&e++})),1===t.length?t:1===u.length&&e?u:void 0}function t_menusub_highlightNavLinks(o,s,i,r){var a=window.pageYOffset,c=r,t=0;return s.length&&(t=s[s.length-1].getAttribute("data-offset-top")),s.length&&null===r&&a+300<+t?(Array.prototype.forEach.call(o,function(t){t.classList.remove("t-active")}),null):(Array.prototype.forEach.call(s,function(t){var e=t.getAttribute("data-offset-top"),t=t.id,n=i[t],u=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);return(e<=a+300||s[0].id===t&&a>=u-window.innerHeight)&&(null!==r||n.classList.contains("t-active")?null!==r&&t===r&&(c=null):(Array.prototype.forEach.call(o,function(t){t.classList.remove("t-active")}),n.classList.add("t-active"))),!1}),c)}function t_menusub_updateSectionsOffsets(t){Array.prototype.forEach.call(t,function(t){t.setAttribute("data-offset-top",t.offsetTop)})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});