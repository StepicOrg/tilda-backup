function t_cover__setCover(n,i,r,c,d,e,t){var o,a="",u=n.parentNode;o&&window.clearTimeout(o),o=window.setTimeout(function(){var e,t,o;0<a||(e=t_cover__getHeightWithoutPadding(n),(t=n.getBoundingClientRect().top+window.pageYOffset)-500<(o=window.pageYOffset)+window.innerHeight&&o<=t+e+500&&cover_onFuncLoad(n.videoBG,function(){var e=n.videoBG({mp4:i,webm:r,poster:"",preload:"none",autoplay:"true",loop:c,volume:1,scale:!0,zIndex:0,width:"100%"});e.setAttribute("muted",d),e.setAttribute("playsinline",""),videoLoadProcessor.registerNewVideo(e),a=1}))},100),"fixed"==e&&"yes"==t&&(e=t_cover__getHeightWithoutPadding(u),t=u.getBoundingClientRect().top+window.pageYOffset,u=window.pageYOffset,t+e-window.innerHeight<=u?(n.style.position="absolute",n.style.bottom="0px",n.style.top="auto"):t<=u?(n.style.position="fixed",n.style.top="0px"):u<t&&(n.style.position="relative",n.style.top="auto"))}function t_cover__initYoutubeVideo(n,i){var e;e&&window.clearTimeout(e),e=window.setTimeout(function(){var e,t,o;n.querySelector("iframe")||(e=t_cover__getHeightWithoutPadding(n),(t=n.getBoundingClientRect().top+window.pageYOffset)-500<(o=window.pageYOffset)+window.innerHeight&&o<=t+e+500&&(processYoutubeVideo(n,i),cover_onFuncLoad(window.processYoutubeVideo,function(){window.processYoutubeVideo(n,i)})))},100)}function cover_fixcontentheight(e,t){var o,n=document.querySelector("#rec"+e),i=n.querySelector(".t-cover"),e=i?t_cover__getHeightWithoutPadding(i):0,i=n.querySelector("div[data-hook-content]"),r=i?t_cover__getHeightWithoutPadding(i):0;300<r&&e<r+40?(cover_setRecalculatedCoverHeight(n,r),window.isMobile||setTimeout(function(){var e=n.querySelector(".t-cover__carrier");e&&e.querySelector("iframe")&&(console.log("correct video from cover_fixcontentheight"),window.setWidthHeightYoutubeVideo(e,r+"px")),e.querySelector("video")&&console.log("correct html5video from cover_fixcontentheight")},2e3),cover_updateResizeElem(n)):window.isMobile&&t?(cover_setRecalculatedCoverHeight(n,r),cover_updateResizeElem(n)):!window.isMobile||(t=n.querySelector(".t-cover__carrier"))&&"100vh"===t.getAttribute("data-content-cover-height")&&(o=window.innerHeight,Array.prototype.forEach.call([".t-cover",".t-cover__filter",".t-cover__carrier",".t-cover__wrapper"],function(e){n.querySelector(e)&&(n.querySelector(e).style.height=o+"px")}))}function cover_setRecalculatedCoverHeight(t,e){var o=t.querySelector(".t-cover__carrier"),n=o?o.getAttribute("data-content-cover-height"):"0",i=window.innerHeight,i=-1!==n.indexOf("vh")?Math.round(parseInt(n,10)/100*i):parseInt(n,10),o=window.innerWidth<=568?40:120,n=window.innerWidth<=568?50:100;1e3<(e+=o)&&(e+=n),i=i<e?e:i,console.log("auto correct cover height: "+i);Array.prototype.forEach.call([".t-cover",".t-cover__filter",".t-cover__carrier",".t-cover__wrapper"],function(e){t.querySelector(e)&&(t.querySelector(e).style.height=i+"px")})}function cover_updateResizeElem(e){if("function"==typeof window.t_lazyload_updateResize_elem)try{window.t_lazyload_updateResize_elem(e.querySelector(".t-cover__carrier"))}catch(e){console.log("error:"+e)}}function cover_checkIsFixForBackgroundNeeded(e){var t=document.body.querySelector("#rec"+e);if(t){var o,n,i,r=t.querySelector(".t-cover__carrier");null!==r&&(o=r.getAttribute("data-content-video-url-youtube"),n=r.getAttribute("data-content-video-url-mp4"),i=r.getAttribute("data-content-video-url-webm"));t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return!(window.isMobile||/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document||!t||o||n||i||!r||"fixed"!==r.getAttribute("data-content-cover-parallax")||window["cover"+e+"fixbackgroundstyles"])}}function cover_fixBackgroundFixedNode(e){var t,o,n,i,r;cover_checkIsFixForBackgroundNeeded(e)&&(t=document.body.querySelector("#rec"+e),i=document.body.querySelector("#rec"+e+" .t-cover").parentNode,console.log("new fix node background-position: fixed"),window.cover_fixBackgroundStyles||(r=".t-cover__container {position: relative;}.t-cover__container .t-cover {clip: rect(0, auto, auto, 0);position: absolute;top: 0;left: 0;width: 100%;height: 100% !important;}.t-cover__container .t-cover .t-cover__carrier {position: fixed;display: block;top: 0;left: 0;width: 100%;height: 100%!important;background-size: cover;background-position: center center;transform: translateZ(0);will-change: transform;}",o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style"),o.appendChild(n),n.type="text/css",n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),window.cover_fixBackgroundStyles=!0),(n=document.createElement("div")).classList.add("t-cover__container"),i.insertAdjacentElement("afterbegin",n),i=t_cover__getHeightWithoutPadding(r=t.querySelector(".t-cover")),n.style.height=i,n.appendChild(r),void 0!==(r={275:".t256__video-container",286:".t266__video-container",337:".t-container",906:".t906__video-container"}[t.getAttribute("data-record-type")])&&(r=t.querySelector(r),n.appendChild(r)),window["cover"+e+"fixbackgroundnodes"]=!0)}function cover_fixBackgroundFixedStyles(e){var t,o,n=document.body.querySelector("#rec"+e);cover_checkIsFixForBackgroundNeeded(e)&&(console.log("new fix style background-position: fixed"),null!==(t=n.querySelector(".t-cover__container"))&&(n=(o=n.querySelector(".t-cover")).style.height,o.style.height=0,null!==t.style&&(t.style.height=n),window["cover"+e+"fixbackgroundstyles"]=!0))}function cover_onFuncLoad(t,o){"function"==typeof t?o():setTimeout(function e(){if("function"!=typeof t){if("complete"===document.readyState&&"function"!=typeof t)throw new Error(t+" is undefined");setTimeout(e,100)}else o()})}function t_cover__getHeightWithoutPadding(e){var t=parseInt(e.style.paddingTop)||0,o=parseInt(e.style.paddingBottom)||0;return e.clientHeight-(t+o)}function t_cover__scrollToNextSection(e,t){var o;t<=0||(o=(e-window.pageYOffset)/t*10,setTimeout(function(){window.scrollTo(0,window.pageYOffset+o),document.body.setAttribute("data-scrollable","true"),window.pageYOffset!==e?t_cover__scrollToNextSection(e,t-10):document.body.removeAttribute("data-scrollable")},10))}!function(){var a=window.innerHeight;window.addEventListener("resize",function(){a=window.innerHeight}),window.parallax=function(i,r,e){var c,d=!0;function t(){var e=window.pageYOffset,t=i.getBoundingClientRect().top+window.pageYOffset,o=c(i),n=i.getBoundingClientRect().top;t+o<e||e+a<t||(n=-1*Math.round(n*r),d?i.style["-webkit-transform"]="translateY("+n+"px)":i.style.top=n+"px")}void 0===document.body.style.WebkitTransform&&(d=!1),d&&(i.style.position="relative"),c=e?function(e){return e.offsetHeight+(parseInt(e.style.marginTop)||0)+(parseInt(e.style.marginBottom)||0)}:function(e){return t_cover__getHeightWithoutPadding(e)},(arguments.length<1||null===r)&&(r=.1),(arguments.length<2||null===e)&&(e=!0),t(),window.addEventListener("scroll",t),window.addEventListener("resize",t),"complete"!==document.readyState&&window.addEventListener("load",function(){t()})}}(),function(){function e(){var e=document.querySelector(".t-records");"edit"!==(e?e.getAttribute("data-tilda-mode"):"")&&(e=document.querySelectorAll(".t-cover__carrier"),Array.prototype.forEach.call(e,function(e){e=e.getAttribute("data-content-cover-id");0<e&&cover_init(e)}))}window.cover_init=function(h){function e(){var t=document.body.querySelector("#coverCarry"+h),e=t.getAttribute("data-content-cover-bg")||"",o=t.getAttribute("data-content-cover-height")||"",n=t.getAttribute("data-content-cover-parallax")||"",i=t.getAttribute("data-content-video-url-mp4")||"",r=t.getAttribute("data-content-video-url-webm")||"",c=t.getAttribute("data-content-video-url-youtube")||"",d=t.getAttribute("data-content-video-noloop")||"",a=t.getAttribute("data-content-video-nomute")||"",u=t.getAttribute("data-content-bg-base64")||"",l=t.getAttribute("data-content-video-nocover")||"";l&&"yes"===l&&(c=r=i=""),!window.isMobile||""===r&&""===i&&""===c||(t.style.backgroundImage='url("'+e+'")'),setTimeout(function(){cover_fixcontentheight(h,!1),cover_fixBackgroundFixedStyles(h)},500),cover_fixBackgroundFixedNode(h);var s,g,v,w,_,l=document.getElementById("rec"+h).querySelector("img[data-hook-clogo]");l&&(l.onload=function(){setTimeout(function(){cover_fixcontentheight(h,!1),cover_fixBackgroundFixedStyles(h)},500)}),window.isMobile&&window.addEventListener("orientationchange",function(){window.addEventListener("resize",function(){cover_fixcontentheight(h,!0),cover_fixBackgroundFixedStyles(h)})}),""===i&&""===r&&""===c||window.isMobile||(""!==c||""===i&&""===r?""!==c&&(t.style.backgorundColor="#000000",t.style.backgroundImage="",t.setAttribute("data-content-cover-bg",""),window.addEventListener("scroll",function(){t_cover__initYoutubeVideo(t,o)}),t_cover__initYoutubeVideo(t,o)):(t.style.backgroundColor="#000000",t.style.backgroundImage='url("https://tilda.ws/img/spinner-white.gif")',t.style.backgroundSize="auto",t.setAttribute("data-content-cover-bg",""),s=!1,s=""==d,g=!0,g=""===a,v="","fixed"===n&&(-1!==o.indexOf("vh")&&100<parseInt(o)&&(t.style.height="100vh",v="yes"),-1!==o.indexOf("px")&&parseInt(o)>window.innerHeight&&(t.style.height="100vh",v="yes")),window.addEventListener("scroll",function(){t_cover__setCover(t,i,r,s,g,n,v)}),t_cover__setCover(t,i,r,s,g,n,v))),"dynamic"===n&&(window.isMobile||(d=window.innerHeight,(a=t_cover__getHeightWithoutPadding(t))<window.innerHeight&&(t.style.height=a+.2*d+"px"),window.parallax(t,.2,!0))),"yes"===u&&""!==e&&""===i&&""===r&&""===c&&(w="",(_=document.createElement("img")).src=e,_.onload=function(){_.parentNode&&_.parentNode.removeChild(_),t.style.backgroundImage='url("'+e+'")',t.style.opacity="1",w="yes"},"yes"!==w&&(t.style.backgroundImage="",t.style.opacity="0",t.style.transition="opacity 25ms"));var f=document.getElementById("rec"+h),c=f?f.querySelector(".t-cover__arrow-wrapper"):null;c&&c.addEventListener("click",function(){var e=f.offsetHeight;0<e&&t_cover__scrollToNextSection(f.getBoundingClientRect().top+window.pageYOffset+e,300)}),(t.hasAttribute("data-content-video-url-youtube")||t.hasAttribute("data-content-video-url-mp4")||t.hasAttribute("data-content-video-url-webm"))&&window.addEventListener("resize",t_throttle(function(){var e;t.querySelector(".videoBG")&&(e=t_cover__getHeightWithoutPadding(t),window.setWidthHeightHTMLVideo(t.querySelector(".videoBG"),e)),t.querySelector("iframe")&&(e=t.getAttribute("data-content-cover-height"),window.setWidthHeightYoutubeVideo(t,e))}))}"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)},"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}();
