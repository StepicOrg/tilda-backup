function t_menu__highlightActiveLinks(t){var o,r=window.location.href,i=window.location.pathname;"/"===r[r.length-1]&&(o=r.slice(0,-1)),"/"===i[i.length-1]&&(i=i.slice(0,-1)),"/"===i[0]&&(i=i.slice(1)),""===i&&(i="/");t=document.querySelectorAll(t);Array.prototype.forEach.call(t,function(t){var e,n=t.getAttribute("href");n&&((e=t.href)!==r&&e!==i&&n!==r&&n!==i&&o!==r&&o!==i||t.classList.add("t-active"))})}function t_menu__findAnchorLinks(t,e){var n=document.getElementById("rec"+t);n&&t_menu__isBlockVisible(n)&&(t=e+'[href*="#"]:not(.tooltipstered)',(t=n?n.querySelectorAll(t):[]).length&&t_menu__updateActiveLinks(t,e))}function t_menu__updateActiveLinks(o,t){t=t.slice(2);t=".t"+(t=parseInt(t,10)),o=Array.prototype.slice.call(o);var r=null,n=[],i={};(o=o.reverse()).forEach(function(t){var e=t_menu__getSectionByHref(t);e&&e.id&&(n.push(e),i[e.id]=t)}),t_menu__updateSectionsOffsets(n),n.sort(function(t,e){t=parseInt(t.getAttribute("data-offset-top"),10)||0;return(parseInt(e.getAttribute("data-offset-top"),10)||0)-t}),window.addEventListener("resize",t_throttle(function(){t_menu__updateSectionsOffsets(n)},200));t=document.querySelectorAll(t);Array.prototype.forEach.call(t,function(t){t.addEventListener("displayChanged",function(){t_menu__updateSectionsOffsets(n)})}),t_menu__highlightNavLinks(o,n,i,r),o.forEach(function(e,n){e.addEventListener("click",function(){var t=t_menu__getSectionByHref(e);!e.classList.contains("tooltipstered")&&t&&t.id&&(o.forEach(function(t,e){e===n?t.classList.add("t-active"):t.classList.remove("t-active")}),r=t.id)})}),window.addEventListener("scroll",t_throttle(function(){r=t_menu__highlightNavLinks(o,n,i,r)},100)),"ResizeObserver"in window&&setTimeout(function(){new ResizeObserver(function(){t_menu__updateSectionsOffsets(n)}).observe(document.body)},500)}function t_menu__updateSectionsOffsets(t){t.forEach(function(t){var e=t.getBoundingClientRect().top+window.pageYOffset;t.getAttribute("data-offset-top")!==e.toString()&&t.setAttribute("data-offset-top",e)})}function t_menu__getSectionByHref(t){if(t){var e=t.getAttribute("href"),n=e?e.replace(/\s+/g,""):"";if(0===n.indexOf("/")&&(n=n.slice(1)),e&&t.matches('[href*="#rec"]'))return n=n.replace(/.*#/,""),document.getElementById(n);n=e?e.trim():"",e=-1!==n.indexOf("#")&&n.indexOf("#");"number"!=typeof e&&"number"!=typeof(e=-1!==n.indexOf("/")&&n.indexOf("/"))||(n=n.slice(e+1));n='.r[data-record-type="215"] a[name="'+n+'"]',n=document.querySelector(n);return n?n.closest(".r"):null}}function t_menu__highlightNavLinks(t,e,n,o){if(document.documentElement.classList.contains("t-body_scroll-locked"))return null;var r=window.pageYOffset,i=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),a=o,l=e.length?e[e.length-1]:null,l=l&&parseInt(l.getAttribute("data-offset-top"),10)||0;if(e.length&&null===o&&r+300<l)return t.forEach(function(t){t.classList.remove("t-active")}),null;for(var s=0;s<e.length;s++){var u=parseInt(e[s].getAttribute("data-offset-top"),10),c=e[s].id?n[e[s].id]:null;if(u<=r+300||0===s&&r>=i-window.innerHeight){null===o&&c&&!c.classList.contains("t-active")?(t.forEach(function(t){t.classList.remove("t-active")}),c&&c.classList.add("t-active"),a=null):null!==o&&e[s].id&&o===e[s].id&&(a=null);break}}return a}function t_menu__setBGcolor(t,e){e=document.querySelectorAll(e);Array.prototype.forEach.call(e,function(t){980<window.innerWidth?"yes"===t.getAttribute("data-bgcolor-setbyscript")&&(t.style.backgroundColor=t.getAttribute("data-bgcolor-rgba")):(t.style.backgroundColor=t.getAttribute("data-bgcolor-hex"),t.setAttribute("data-bgcolor-setbyscript","yes"),t.style.transform&&(t.style.transform=""),t.style.opacity&&(t.style.opacity=""))})}function t_menu__showFixedMenu(t,e){var n=[".t280",".t282",".t450",".t451",".t466",".t453"].some(function(t){return t===e});if(!(window.innerWidth<=980)||n){t=document.getElementById("rec"+t);if(!t)return!1;t=t.querySelectorAll(e);Array.prototype.forEach.call(t,function(t){var e,n=t.getAttribute("data-appearoffset");n&&(-1!==n.indexOf("vh")&&(n=Math.floor(window.innerHeight*(parseInt(n)/100))),n=parseInt(n,10),e=t.clientHeight,"number"==typeof n&&window.pageYOffset>=n?t.style.transform==="translateY(-"+e+"px)"&&t_menu__slideElement(t,e,"toBottom"):"translateY(0px)"===t.style.transform?t_menu__slideElement(t,e,"toTop"):(t.style.transform="translateY(-"+e+"px)",t.style.opacity="0"))})}}function t_menu__changeBgOpacity(t,e){var n=["t280","t282","t451","t466"].some(function(t){return-1!==e.indexOf(t)});if(!(window.innerWidth<=980)||n){t=document.getElementById("rec"+t);if(!t)return!1;t=t.querySelectorAll(e);Array.prototype.forEach.call(t,function(t){var e=t.getAttribute("data-bgcolor-rgba"),n=t.getAttribute("data-bgcolor-rgba-afterscroll"),o=t.getAttribute("data-bgopacity"),r=t.getAttribute("data-bgopacity-two"),i=t.getAttribute("data-menushadow")||"0",a="100"===i?i:"0."+i;t.style.backgroundColor=20<window.pageYOffset?n:e,20<window.pageYOffset&&"0"===r||window.pageYOffset<=20&&"0.0"===o||" "===i?t.style.boxShadow="none":t.style.boxShadow="0px 1px 3px rgba(0,0,0,"+a+")"})}}function t_menu__createMobileMenu(n,o){var r,t,i,a,l,e,s,u,c=document.getElementById("rec"+n);c&&(t=(r=c.querySelector(o))?r.getAttribute("data-mobile-burgerhook"):"",s=c.querySelector(o+"__mobile"),i=s||c.querySelector(".tmenu-mobile"),a=s?o.slice(1)+"_opened":"tmenu-mobile_opened",l="t-menuburger-opened",i&&(r&&r.classList.contains(o.slice(1)+"__mobile_burgerhook")&&t?(i.querySelector(".tmenu-mobile__burger")?u=i.querySelector(".tmenu-mobile__burger"):i.querySelector(".t-menuburger")&&(u=i.querySelector(".t-menuburger")),u&&(e=u.parentElement,(s=document.createElement("a")).href=t,e&&(s.appendChild(u),e.appendChild(s)))):(u=i.querySelector(".t-menuburger"),i.addEventListener("click",function(t){t.target.closest("a")||(i.classList.contains(a)?(t_menu__FadeOut(r,300),i.classList.remove(a),u.classList.remove(l),u.setAttribute("aria-expanded","false")):(t_menu__fadeIn(r,300,function(){r.style.transform&&(r.style.transform=""),r.style.opacity&&(r.style.opacity="")}),i.classList.add(a),u.classList.add(l),u.setAttribute("aria-expanded","true"),r.classList.contains("tmenu-mobile__menucontent_fixed")&&(t=getComputedStyle(i).height,r.style.top=t)),t_menu_checkOverflow(n,o))}))),window.innerWidth<980&&c.addEventListener("click",function(t){var e;r&&r.classList.contains("tmenu-mobile__menucontent_fixed")&&((e=t.target.closest(".t-menu__link-item, .t978__submenu-link, .t966__menu-link, .t-menusub__link-item, .t-btn"))&&(["t978__menu-link_hook","t978__tm-link","t966__tm-link","t794__tm-link","t-menusub__target-link"].some(function(t){return e.classList.contains(t)})?r.addEventListener("menuOverflow",function(){t_menu_checkOverflow(n,o)}):(t_menu__FadeOut(r,300),i&&i.classList.remove(a),i&&u.classList.remove(l))))}),window.addEventListener("resize",t_throttle(function(){980<window.innerWidth&&(r&&(r.style.opacity=""),r&&(r.style.display=""),r&&(r.style.top=""),i&&i.classList.remove(a)),t_menu_checkOverflow(n,o)},200)))}function t_menu_checkOverflow(t,e){var n,o=document.getElementById("rec"+t),r=o?o.querySelector(e):null;!r||(n=o.querySelector(e+"__mobile")||o.querySelector(".tmenu-mobile"))&&(t=n.offsetHeight,e=document.documentElement.clientHeight,o=r.style.position||window.getComputedStyle(r).position,n=r.offsetHeight,"fixed"===o&&e-t<n&&(r.style.overflow="auto",r.style.maxHeight="calc(100% - "+t+"px)"))}function t_menu__FadeOut(t,e,n){if(!t)return!1;var o=1;e=parseInt(e,10);var r=setInterval(function(){t.style.opacity=o,(o-=.1)<=.1&&(t.style.opacity="0",t.style.display="none","function"==typeof n&&n(),clearInterval(r))},0<e?e/10:40)}function t_menu__fadeIn(t,e,n){if(!t)return!1;if(("1"===getComputedStyle(t).opacity||""===getComputedStyle(t).opacity)&&"none"!==getComputedStyle(t).display)return!1;var o=0,e=0<(e=parseInt(e,10))?e/10:40;t.style.opacity=o,t.style.display="block";var r=setInterval(function(){t.style.opacity=o,1<=(o+=.1)&&(t.style.opacity="1","function"==typeof n&&n(),clearInterval(r))},e)}function t_menu__slideElement(t,e,n){var o="toTop"===n?0:e,r="toTop"===n?1:0,i=setInterval(function(){t.style.transform="translateY(-"+o+"px)",t.style.opacity=r.toString(),r="toTop"===n?r-.1:r+.1,o="toTop"===n?o+e/20:o-e/20,"toTop"===n&&e<=o&&(t.style.transform="translateY(-"+e+"px)",t.style.opacity="0",clearInterval(i)),"toBottom"===n&&o<=0&&(t.style.transform="translateY(0px)",t.style.opacity="1",clearInterval(i))},10)}function t_menu__interactFromKeyboard(t){var i,a,l,s,u,c,d,f,m,t=document.getElementById("rec"+t);t&&(i=t.querySelectorAll(".t-menu__list > li > a"),t=t.querySelectorAll(".t-menu__list > li li"),a=9,l=13,s=27,u=32,c=0,f=function(t){t===i.length?t=0:t<0&&(t=i.length-1),i[t].focus(),c=t},m=function(t,e){t=t.querySelectorAll("a");e==t.length?e=0:e<0&&(e=t.length-1),t[e].focus(),d=e},Array.prototype.forEach.call(i,function(t){var n,o;t.addEventListener("focus",function(){d=0,Array.prototype.forEach.call(i,function(t){t.hasAttribute("aria-haspopup")&&t.setAttribute("aria-expanded","false")})}),t.addEventListener("keydown",function(t){var e=this.parentNode.querySelector(".t-menusub__list");switch(t.keyCode){case a:if(!t.shiftKey&&c<=i.length-2)f(c+1);else{if(!(t.shiftKey&&0<c))return;f(c-1)}break;case l:case u:if(!e)return;this.click(),m(e,d=0)}t.preventDefault()}),t.parentNode.querySelector(".t-menusub__menu")&&!window.isMobile&&(o=(n=t).parentNode.querySelector(".t-menusub__menu"),n.addEventListener("click",function(t){var e;return"true"!==this.getAttribute("aria-haspopup")||"false"!=this.getAttribute("aria-expanded")&&null!=this.getAttribute("aria-expanded")?this.setAttribute("aria-expanded","false"):(this.setAttribute("aria-expanded","true"),e=(e=n.nextElementSibling)?e.getAttribute("data-submenu-margin"):0,t_menusub__showSubmenu(n,o,e)),t.preventDefault(),!1}))}),Array.prototype.forEach.call(t,function(t){var o,r;o=(t=t).closest(".t-menusub__menu"),r=!1,t.addEventListener("keydown",function(t){var e=this.parentNode;switch(t.keyCode){case a:r=!0;var n=e.querySelectorAll(".t-menusub__link-item").length;if(t.shiftKey)0===d?(f(c),t_menusub__hideSubmenu(o)):m(e,d-1);else if(d===n-1){if(t_menusub__hideSubmenu(o),c===i.length-1)return;f(c+1)}else m(e,d+1);break;case l:case u:r=!1,t_menusub__hideSubmenu(o);break;case s:r=!0,f(c),t_menusub__hideSubmenu(o)}r&&(t.preventDefault(),t.stopPropagation())})}))}function t_menu__isBlockVisible(t){var e=window.innerWidth,n=t.getAttribute("data-screen-min"),t=t.getAttribute("data-screen-max");return!(n&&e<parseInt(n,10))&&!(t&&e>parseInt(t,10))}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector);
