function t_menu__highlightActiveLinks(t){var o,i=window.location.href,r=window.location.pathname;"/"===i[i.length-1]&&(o=i.slice(0,-1)),"/"===r[r.length-1]&&(r=r.slice(0,-1)),"/"===r[0]&&(r=r.slice(1)),""===r&&(r="/");t=document.querySelectorAll(t);Array.prototype.forEach.call(t,function(t){var e,n=t.getAttribute("href");n&&((e=t.href)!==i&&e!==r&&n!==i&&n!==r&&o!==i&&o!==r||t.classList.add("t-active"))})}function t_menu__findAnchorLinks(t,e){var n;window.innerWidth<980||(n=e+'[href*="#"]:not(.tooltipstered)',(n=(t=document.getElementById("rec"+t))?t.querySelectorAll(n):[]).length&&t_menu__updateActiveLinks(n,e))}function t_menu__updateActiveLinks(o,t){t=t.slice(2);t=".t"+(t=parseInt(t,10)),o=Array.prototype.slice.call(o);var i=null,n=[],r={};(o=o.reverse()).forEach(function(t){var e=t_menu__getSectionByHref(t);e&&e.id&&(n.push(e),r[e.id]=t)}),t_menu__updateSectionsOffsets(n),n.sort(function(t,e){t=parseInt(t.getAttribute("data-offset-top"),10)||0;return(parseInt(e.getAttribute("data-offset-top"),10)||0)-t}),window.addEventListener("resize",t_throttle(function(){t_menu__updateSectionsOffsets(n)},200));t=document.querySelectorAll(t);Array.prototype.forEach.call(t,function(t){t.addEventListener("displayChanged",function(){t_menu__updateSectionsOffsets(n)})}),setInterval(function(){t_menu__updateSectionsOffsets(n)},5e3),t_menu__highlightNavLinks(o,n,r,i),o.forEach(function(e,n){e.addEventListener("click",function(){var t=t_menu__getSectionByHref(e);!e.classList.contains("tooltipstered")&&t&&t.id&&(o.forEach(function(t,e){e===n?t.classList.add("t-active"):t.classList.remove("t-active")}),i=t.id)})}),window.addEventListener("scroll",t_throttle(function(){i=t_menu__highlightNavLinks(o,n,r,i)},100))}function t_menu__updateSectionsOffsets(t){t.forEach(function(t){var e=t.getBoundingClientRect().top+window.pageYOffset;t.setAttribute("data-offset-top",e.toString())})}function t_menu__getSectionByHref(t){if(t){var e=t.getAttribute("href"),n=e?e.replace(/\s+/g,""):"";if(0===n.indexOf("/")&&(n=n.slice(1)),e&&t.matches('[href*="#rec"]'))return n=n.replace(/.*#/,""),document.getElementById(n);n=e?e.trim():"",e=-1!==n.indexOf("#")&&n.indexOf("#");"number"!=typeof e&&"number"!=typeof(e=-1!==n.indexOf("/")&&n.indexOf("/"))||(n=n.slice(e+1));n='.r[data-record-type="215"] a[name="'+n+'"]';return document.querySelector(n)?document.querySelector(n).closest(".r"):null}}function t_menu__highlightNavLinks(t,e,n,o){if(document.documentElement.classList.contains("t-body_scroll-locked"))return null;var i=window.pageYOffset,r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),l=o,a=e.length?e[e.length-1]:null,a=a&&parseInt(a.getAttribute("data-offset-top"),10)||0;if(e.length&&null===o&&i+300<a)return t.forEach(function(t){t.classList.remove("t-active")}),null;for(var c=0;c<e.length;c++){var s=parseInt(e[c].getAttribute("data-offset-top"),10),u=s+e[c].offsetHeight,d=e[c].id?n[e[c].id]:null;if(s<=i+300&&i<u||0===c&&i>r-window.innerHeight){null===o&&d&&!d.classList.contains("t-active")?(t.forEach(function(t){t.classList.remove("t-active")}),d&&d.classList.add("t-active"),l=null):null!==o&&e[c].id&&o===e[c].id&&(l=null);break}d&&d.classList.remove("t-active")}return l}function t_menu__setBGcolor(t,e){e=document.querySelectorAll(e);Array.prototype.forEach.call(e,function(t){980<window.innerWidth?"yes"===t.getAttribute("data-bgcolor-setbyscript")&&(t.style.backgroundColor=t.getAttribute("data-bgcolor-rgba")):(t.style.backgroundColor=t.getAttribute("data-bgcolor-hex"),t.setAttribute("data-bgcolor-setbyscript","yes"),t.style.transform&&(t.style.transform=""),t.style.opacity&&(t.style.opacity=""))})}function t_menu__showFixedMenu(t,e){var n=[".t280",".t282",".t450",".t451",".t466",".t453"].some(function(t){return t===e});if(!(window.innerWidth<=980)||n){t=document.getElementById("rec"+t);if(!t)return!1;t=t.querySelectorAll(e);Array.prototype.forEach.call(t,function(t){var e,n=t.getAttribute("data-appearoffset");n&&(-1!==n.indexOf("vh")&&(n=Math.floor(window.innerHeight*(parseInt(n)/100))),n=parseInt(n,10),e=t.clientHeight,"number"==typeof n&&window.pageYOffset>=n?t.style.transform==="translateY(-"+e+"px)"&&t_menu__slideElement(t,e,"toBottom"):"translateY(0px)"===t.style.transform?t_menu__slideElement(t,e,"toTop"):(t.style.transform="translateY(-"+e+"px)",t.style.opacity="0"))})}}function t_menu__changeBgOpacity(t,e){var n=["t280","t282","t451","t466"].some(function(t){return-1!==e.indexOf(t)});if(!(window.innerWidth<=980)||n){t=document.getElementById("rec"+t);if(!t)return!1;t=t.querySelectorAll(e);Array.prototype.forEach.call(t,function(t){var e=t.getAttribute("data-bgcolor-rgba"),n=t.getAttribute("data-bgcolor-rgba-afterscroll"),o=t.getAttribute("data-bgopacity"),i=t.getAttribute("data-bgopacity-two"),r=t.getAttribute("data-menushadow")||"0",l="100"===r?r:"0."+r;t.style.backgroundColor=20<window.pageYOffset?n:e,20<window.pageYOffset&&"0"===i||window.pageYOffset<=20&&"0.0"===o||" "===r?t.style.boxShadow="none":t.style.boxShadow="0px 1px 3px rgba(0,0,0,"+l+")"})}}function t_menu__createMobileMenu(n,o){var i,t,r,l,e,a,c,s=document.getElementById("rec"+n);s&&(t=(i=s.querySelector(o))?i.getAttribute("data-mobile-burgerhook"):"",c=s.querySelector(o+"__mobile"),r=c||s.querySelector(".tmenu-mobile"),l=c?o.slice(1)+"_opened":"tmenu-mobile_opened",i&&i.classList.contains(o.slice(1)+"__mobile_burgerhook")&&t?(e=r?r.querySelector(".tmenu-mobile__burger"):null)&&(a=e.parentElement,(c=document.createElement("a")).href=t,a&&(c.appendChild(e),a.appendChild(c))):r&&r.addEventListener("click",function(){var t;r.classList.contains(l)?(t_menu__FadeOut(i,300),r.classList.remove(l)):(t_menu__fadeIn(i,300,function(){i.style.transform&&(i.style.transform=""),i.style.opacity&&(i.style.opacity="")}),r.classList.add(l),i.classList.contains("tmenu-mobile__menucontent_fixed")&&(t=getComputedStyle(r).height,i.style.top=t)),t_menu_checkOverflow(n,o)}),window.innerWidth<980&&s.addEventListener("click",function(t){var e;i&&i.classList.contains("tmenu-mobile__menucontent_fixed")&&((e=t.target.closest(".t-menu__link-item, .t978__submenu-link, .t966__menu-link, .t-menusub__link-item, .t-btn"))&&(["t978__menu-link_hook","t978__tm-link","t966__tm-link","t794__tm-link","t-menusub__target-link"].some(function(t){return e.classList.contains(t)})?i.addEventListener("menuOverflow",function(){t_menu_checkOverflow(n,o)}):(t_menu__FadeOut(i,300),r&&r.classList.remove(l))))}),window.addEventListener("resize",t_throttle(function(){980<window.innerWidth&&(i&&(i.style.opacity=""),i&&(i.style.display=""),i&&(i.style.top=""),r&&r.classList.remove(l)),t_menu_checkOverflow(n,o)},200)))}function t_menu_checkOverflow(t,e){var n,o=document.getElementById("rec"+t),i=o?o.querySelector(e):null;!i||(n=o.querySelector(e+"__mobile")||o.querySelector(".tmenu-mobile"))&&(t=n.offsetHeight,e=document.documentElement.clientHeight,o=i.style.position||window.getComputedStyle(i).position,n=i.offsetHeight,"fixed"===o&&e-t<n&&(i.style.overflow="auto",i.style.maxHeight="calc(100% - "+t+"px)"))}function t_menu__FadeOut(t,e,n){if(!t)return!1;var o=1;e=parseInt(e,10);var i=setInterval(function(){t.style.opacity=o,(o-=.1)<=.1&&(t.style.opacity="0",t.style.display="none","function"==typeof n&&n(),clearInterval(i))},0<e?e/10:40)}function t_menu__fadeIn(t,e,n){if(!t)return!1;if(("1"===getComputedStyle(t).opacity||""===getComputedStyle(t).opacity)&&"none"!==getComputedStyle(t).display)return!1;var o=0,e=0<(e=parseInt(e,10))?e/10:40;t.style.opacity=o,t.style.display="block";var i=setInterval(function(){t.style.opacity=o,1<=(o+=.1)&&(t.style.opacity="1","function"==typeof n&&n(),clearInterval(i))},e)}function t_menu__slideElement(t,e,n){var o="toTop"===n?0:e,i="toTop"===n?1:0,r=setInterval(function(){t.style.transform="translateY(-"+o+"px)",t.style.opacity=i.toString(),i="toTop"===n?i-.1:i+.1,o="toTop"===n?o+e/20:o-e/20,"toTop"===n&&e<=o&&(t.style.transform="translateY(-"+e+"px)",t.style.opacity="0",clearInterval(r)),"toBottom"===n&&o<=0&&(t.style.transform="translateY(0px)",t.style.opacity="1",clearInterval(r))},10)}
