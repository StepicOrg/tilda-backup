function t_menu__highlightActiveLinks(e){var r,o=window.location.href,i=window.location.pathname;"/"===o[o.length-1]&&(r=o.slice(0,-1)),"/"===i[i.length-1]&&(i=i.slice(0,-1)),"/"===i[0]&&(i=i.slice(1)),""===i&&(i="/");e=document.querySelectorAll(e);Array.prototype.forEach.call(e,function(e){var t,n=e.getAttribute("href");n&&((t=e.href)!==o&&t!==i&&n!==o&&n!==i&&r!==o&&r!==i||e.classList.add("t-active"))})}function t_menu__findAnchorLinks(e,t){var n=document.getElementById("rec"+e);n&&t_menu__isBlockVisible(n)&&(e=t+'[href*="#"]:not(.tooltipstered)',(e=n?n.querySelectorAll(e):[]).length&&t_menu__updateActiveLinks(e,t))}function t_menu__updateActiveLinks(r,e){e=e.slice(2);e=".t"+(e=parseInt(e,10)),r=Array.prototype.slice.call(r);var o=null,n=[],i={};(r=r.reverse()).forEach(function(e){var t=t_menu__getSectionByHref(e);t&&t.id&&(n.push(t),i[t.id]=e)}),t_menu__updateSectionsOffsets(n),n.sort(function(e,t){e=parseInt(e.getAttribute("data-offset-top"),10)||0;return(parseInt(t.getAttribute("data-offset-top"),10)||0)-e}),window.addEventListener("resize",t_throttle(function(){t_menu__updateSectionsOffsets(n)},200));e=document.querySelectorAll(e);Array.prototype.forEach.call(e,function(e){e.addEventListener("displayChanged",function(){t_menu__updateSectionsOffsets(n)})}),t_menu__highlightNavLinks(r,n,i,o),r.forEach(function(t,n){t.addEventListener("click",function(){var e=t_menu__getSectionByHref(t);!t.classList.contains("tooltipstered")&&e&&e.id&&(r.forEach(function(e,t){t===n?e.classList.add("t-active"):e.classList.remove("t-active")}),o=e.id)})}),window.addEventListener("scroll",t_throttle(function(){o=t_menu__highlightNavLinks(r,n,i,o)},100)),"ResizeObserver"in window&&setTimeout(function(){new ResizeObserver(function(){t_menu__updateSectionsOffsets(n)}).observe(document.body)},500)}function t_menu__updateSectionsOffsets(e){e.forEach(function(e){var t=e.getBoundingClientRect().top+window.pageYOffset;e.getAttribute("data-offset-top")!==t.toString()&&e.setAttribute("data-offset-top",t)})}function t_menu__getSectionByHref(e){if(e){var t=e.getAttribute("href"),n=t?t.replace(/\s+/g,""):"";if(0===n.indexOf("/")&&(n=n.slice(1)),t&&e.matches('[href*="#rec"]'))return n=n.replace(/.*#/,""),document.getElementById(n);n=t?t.trim():"",t=-1!==n.indexOf("#")&&n.indexOf("#");"number"!=typeof t&&"number"!=typeof(t=-1!==n.indexOf("/")&&n.indexOf("/"))||(n=n.slice(t+1));n='.r[data-record-type="215"] a[name="'+n+'"]',n=document.querySelector(n);return n?n.closest(".r"):null}}function t_menu__highlightNavLinks(e,t,n,r){if(document.documentElement.classList.contains("t-body_scroll-locked"))return null;var o=window.pageYOffset,i=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),a=r,l=t.length?t[t.length-1]:null,l=l&&parseInt(l.getAttribute("data-offset-top"),10)||0;if(t.length&&null===r&&o+300<l)return e.forEach(function(e){e.classList.remove("t-active")}),null;for(var s=0;s<t.length;s++){var u=parseInt(t[s].getAttribute("data-offset-top"),10),c=t[s].id?n[t[s].id]:null;if(u<=o+300||0===s&&o>=i-window.innerHeight){null===r&&c&&!c.classList.contains("t-active")?(e.forEach(function(e){e.classList.remove("t-active")}),c&&c.classList.add("t-active"),a=null):null!==r&&t[s].id&&r===t[s].id&&(a=null);break}}return a}function t_menu__setBGcolor(e,t){t=document.querySelectorAll(t);Array.prototype.forEach.call(t,function(e){980<window.innerWidth?"yes"===e.getAttribute("data-bgcolor-setbyscript")&&(e.style.backgroundColor=e.getAttribute("data-bgcolor-rgba")):(e.style.backgroundColor=e.getAttribute("data-bgcolor-hex"),e.setAttribute("data-bgcolor-setbyscript","yes"),e.style.transform&&(e.style.transform=""),e.style.opacity&&(e.style.opacity=""))})}function t_menu__showFixedMenu(e,t){var n=[".t280",".t282",".t450",".t451",".t466",".t453"].some(function(e){return e===t});if(!(window.innerWidth<=980)||n){e=document.getElementById("rec"+e);if(!e)return!1;e=e.querySelectorAll(t);Array.prototype.forEach.call(e,function(e){var t,n=e.getAttribute("data-appearoffset");n&&(-1!==n.indexOf("vh")&&(n=Math.floor(window.innerHeight*(parseInt(n)/100))),n=parseInt(n,10),t=e.clientHeight,"number"==typeof n&&window.pageYOffset>=n?e.style.transform==="translateY(-"+t+"px)"&&t_menu__slideElement(e,t,"toBottom"):"translateY(0px)"===e.style.transform?t_menu__slideElement(e,t,"toTop"):(e.style.transform="translateY(-"+t+"px)",e.style.opacity="0"))})}}function t_menu__changeBgOpacity(e,t){var n=["t280","t282","t451","t466"].some(function(e){return-1!==t.indexOf(e)});if(!(window.innerWidth<=980)||n){e=document.getElementById("rec"+e);if(!e)return!1;e=e.querySelectorAll(t);Array.prototype.forEach.call(e,function(e){var t=e.getAttribute("data-bgcolor-rgba"),n=e.getAttribute("data-bgcolor-rgba-afterscroll"),r=e.getAttribute("data-bgopacity"),o=e.getAttribute("data-bgopacity-two"),i=e.getAttribute("data-menushadow")||"0",a="100"===i?i:"0."+i;e.style.backgroundColor=20<window.pageYOffset?n:t,20<window.pageYOffset&&"0"===o||window.pageYOffset<=20&&"0.0"===r||" "===i?e.style.boxShadow="none":e.style.boxShadow="0px 1px 3px rgba(0,0,0,"+a+")"})}}function t_menu__createMobileMenu(n,r){var o,e,i,a,l,t,s,u,c=document.getElementById("rec"+n);c&&(e=(o=c.querySelector(r))?o.getAttribute("data-mobile-burgerhook"):"",s=c.querySelector(r+"__mobile"),i=s||c.querySelector(".tmenu-mobile"),a=s?r.slice(1)+"_opened":"tmenu-mobile_opened",l="t-menuburger-opened",i&&(o&&o.classList.contains(r.slice(1)+"__mobile_burgerhook")&&e?(i.querySelector(".tmenu-mobile__burger")?u=i.querySelector(".tmenu-mobile__burger"):i.querySelector(".t-menuburger")&&(u=i.querySelector(".t-menuburger")),u&&(t=u.parentElement,(s=document.createElement("a")).href=e,t&&(s.appendChild(u),t.appendChild(s)))):(u=i.querySelector(".t-menuburger"),i.addEventListener("click",function(e){e.target.closest("a")||(i.classList.contains(a)?(t_menu__FadeOut(o,300),i.classList.remove(a),u.classList.remove(l)):(t_menu__fadeIn(o,300,function(){o.style.transform&&(o.style.transform=""),o.style.opacity&&(o.style.opacity="")}),i.classList.add(a),u.classList.add(l),o.classList.contains("tmenu-mobile__menucontent_fixed")&&(e=getComputedStyle(i).height,o.style.top=e)),t_menu_checkOverflow(n,r))}))),window.innerWidth<980&&c.addEventListener("click",function(e){var t;o&&o.classList.contains("tmenu-mobile__menucontent_fixed")&&((t=e.target.closest(".t-menu__link-item, .t978__submenu-link, .t966__menu-link, .t-menusub__link-item, .t-btn"))&&(["t978__menu-link_hook","t978__tm-link","t966__tm-link","t794__tm-link","t-menusub__target-link"].some(function(e){return t.classList.contains(e)})?o.addEventListener("menuOverflow",function(){t_menu_checkOverflow(n,r)}):(t_menu__FadeOut(o,300),i&&i.classList.remove(a),i&&u.classList.remove(l))))}),window.addEventListener("resize",t_throttle(function(){980<window.innerWidth&&(o&&(o.style.opacity=""),o&&(o.style.display=""),o&&(o.style.top=""),i&&i.classList.remove(a)),t_menu_checkOverflow(n,r)},200)))}function t_menu_checkOverflow(e,t){var n,r=document.getElementById("rec"+e),o=r?r.querySelector(t):null;!o||(n=r.querySelector(t+"__mobile")||r.querySelector(".tmenu-mobile"))&&(e=n.offsetHeight,t=document.documentElement.clientHeight,r=o.style.position||window.getComputedStyle(o).position,n=o.offsetHeight,"fixed"===r&&t-e<n&&(o.style.overflow="auto",o.style.maxHeight="calc(100% - "+e+"px)"))}function t_menu__FadeOut(e,t,n){if(!e)return!1;var r=1;t=parseInt(t,10);var o=setInterval(function(){e.style.opacity=r,(r-=.1)<=.1&&(e.style.opacity="0",e.style.display="none","function"==typeof n&&n(),clearInterval(o))},0<t?t/10:40)}function t_menu__fadeIn(e,t,n){if(!e)return!1;if(("1"===getComputedStyle(e).opacity||""===getComputedStyle(e).opacity)&&"none"!==getComputedStyle(e).display)return!1;var r=0,t=0<(t=parseInt(t,10))?t/10:40;e.style.opacity=r,e.style.display="block";var o=setInterval(function(){e.style.opacity=r,1<=(r+=.1)&&(e.style.opacity="1","function"==typeof n&&n(),clearInterval(o))},t)}function t_menu__slideElement(e,t,n){var r="toTop"===n?0:t,o="toTop"===n?1:0,i=setInterval(function(){e.style.transform="translateY(-"+r+"px)",e.style.opacity=o.toString(),o="toTop"===n?o-.1:o+.1,r="toTop"===n?r+t/20:r-t/20,"toTop"===n&&t<=r&&(e.style.transform="translateY(-"+t+"px)",e.style.opacity="0",clearInterval(i)),"toBottom"===n&&r<=0&&(e.style.transform="translateY(0px)",e.style.opacity="1",clearInterval(i))},10)}function t_menu__interactFromKeyboard(e){var i,a,l,s,u,c,d,m,f,_,p,y,h,e=document.getElementById("rec"+e);e&&(i=e.querySelectorAll(".t-menu__list > li > a"),e=e.querySelectorAll(".t-menu__list > li li"),a=9,l=13,s=27,u=32,c=37,d=38,m=39,f=40,_=0,y=function(e){e===i.length?e=0:e<0&&(e=i.length-1),i[e].focus(),_=e},h=function(e,t){e=e.querySelectorAll("a");t==e.length?t=0:t<0&&(t=e.length-1),e[t].focus(),p=t},Array.prototype.forEach.call(i,function(e){var n,r;e.addEventListener("focus",function(){p=0,Array.prototype.forEach.call(i,function(e){e.hasAttribute("aria-haspopup")&&e.setAttribute("aria-expanded","false")})}),e.addEventListener("keydown",function(e){var t=this.parentNode.querySelector(".t-menusub__list");switch(e.keyCode){case m:_<=i.length-2?y(_+1):y(0);break;case c:y(0<_?_-1:i.length-1);break;case a:if(!e.shiftKey&&_<=i.length-2)y(_+1);else{if(!(e.shiftKey&&0<_))return;y(_-1)}break;case l:case f:case u:if(!t)return;this.click(),h(t,p=0);break;case d:if(!t)return;this.click(),p=t.querySelectorAll("li").length-1,h(t,p)}e.preventDefault()}),e.parentNode.querySelector(".t-menusub__menu")&&!window.isMobile&&(r=(n=e).parentNode.querySelector(".t-menusub__menu"),n.addEventListener("click",function(e){var t;return"true"!==this.getAttribute("aria-haspopup")||"false"!=this.getAttribute("aria-expanded")&&null!=this.getAttribute("aria-expanded")?this.setAttribute("aria-expanded","false"):(this.setAttribute("aria-expanded","true"),t=(t=n.nextElementSibling)?t.getAttribute("data-submenu-margin"):0,t_menusub__showSubmenu(n,r,t)),e.preventDefault(),!1}))}),Array.prototype.forEach.call(e,function(e){var r,o;r=(e=e).closest(".t-menusub__menu"),o=!1,e.addEventListener("keydown",function(e){var t=this.parentNode;switch(e.keyCode){case a:o=!0;var n=t.querySelectorAll(".t-menusub__link-item").length;if(e.shiftKey)0===p?(y(_),t_menusub__hideSubmenu(r)):h(t,p-1);else if(p===n-1){if(t_menusub__hideSubmenu(r),_===i.length-1)return;y(_+1)}else h(t,p+1);break;case m:o=!0,y(_+1),t_menusub__hideSubmenu(r);break;case c:o=!0,y(_-1),t_menusub__hideSubmenu(r);break;case l:case u:o=!1,t_menusub__hideSubmenu(r);break;case s:o=!0,y(_),t_menusub__hideSubmenu(r);break;case f:o=!0,h(t,p+1);break;case d:o=!0,h(t,p-1)}o&&(e.preventDefault(),e.stopPropagation())})}))}function t_menu__isBlockVisible(e){var t=window.innerWidth,n=e.getAttribute("data-screen-min"),e=e.getAttribute("data-screen-max");return!(n&&t<parseInt(n,10))&&!(e&&t>parseInt(e,10))}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector);
