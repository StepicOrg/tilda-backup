function setWidthAndHeightVideo(e,t,o){console.log("set width and height "+o+"-video: "+t);var i=e.querySelector("iframe");if("html5"===o){var n=e;i=(e=e.closest(".t-cover__carrier")).querySelector("video")}var r,s,d,l=e.getAttribute("data-content-video-nocover"),a=e.getAttribute("data-content-video-noadcut-youtube"),p=e.getAttribute("data-content-video-ratio"),u=.5625;if(p&&!isNaN(Number(p))&&p>0&&(u=parseFloat(p)),"yes"!==l){if(t||(t="100vh"),-1!==t.indexOf("vh")){var c=window.innerHeight;r=parseInt(t)||0,d=Math.floor(c*(r/100))}else d=parseInt(t)||0;var h=window.innerWidth,y=h,w=s=h*u,f=s,v=1;"youtube"===o&&"yes"!==a&&(w+=220,f=s-220),f<d&&(v=s<d?d/s+.02:s/d+.02);var m=Math.floor(y*v),g=Math.floor(w*v),b=g-d,x=m-h;i.style.height=g+"px",i.style.width=m+"px","html5"===o&&(n.style.height=g+"px",n.style.width=m+"px"),i.style.marginTop=b>0?-Math.floor(b/2)+"px":"0",i.style.marginLeft=x>0?-Math.floor(x/2)+"px":"0"}else t||(s=Math.floor(e.offsetWidth*u)),t&&t.indexOf("vh")>-1?(r=parseInt(t)||0,s=Math.floor(window.innerHeight*(r/100))):t&&(s=parseInt(t)||0),i.style.width="100%",i.style.height=s+"px"}function processSrc(e,t,o){-1===e.indexOf("https://www.youtube.com/embed")&&(e="https://www.youtube.com/embed"+("/"===e[0]?e:"/"+e)),-1!==e.indexOf("?")?e+="&":e+="?";var i=location.protocol+"//"+location.host;return"yes"!==t?(e[e.length-1],e=e+"autoplay=1&loop=1&enablejsapi=1&&playerapiid=featuredytplayer&controls=0&modestbranding=1&rel=0&showinfo=0&color=white&iv_load_policy=3&theme=light&wmode=transparent&origin="+i+"&playlist="+function(e){for(var t=e.split("/"),o=null,i=0,n=t.length;i<n;i++)"embed"===t[i]&&(o=t[i+1]);return-1!==o.indexOf("?")&&(o=o.split("?")[0]),o}(e)):(e[e.length-1],e=e+"autoplay=0&loop=0&enablejsapi=1&&playerapiid=featuredytplayer&controls=1&modestbranding=1&rel=0&showinfo=0&color=black&iv_load_policy=3&theme=dark&wmode=transparent&origin="+i),"yes"!==o&&(e+="&mute=1"),e}function onYouTubePlayerReady_do(e,t,o){var i,n=0;window.addEventListener("scroll",function(){i&&(window.clearTimeout(i),n>=15&&(timer_player_do(e,t,o),n=0),n++),i=window.setTimeout(function(){timer_player_do(e,t,o),n=0},100)})}function timer_player_do(e,t,o){var i=e.getBoundingClientRect().top+window.pageYOffset,n=e.offsetWidth,r=window.pageYOffset,s=window.innerHeight,d=t.getPlayerState();r+s>i&&r<=i+n?(1!==d&&t.playVideo(),"yes"===o&&(r>i+n-100?t.setVolume(30):r>i+n-200?t.setVolume(70):r+s<i+200?t.setVolume(30):t.setVolume(100))):r+s<i&&r+s>i-500?2!==d&&(t.playVideo(),t.pauseVideo()):2!==d&&t.pauseVideo()}function load_youtube_api(){if("yes"!==window.loadytapi_flag){window.loadytapi_flag="yes";var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}function videoProcessor_onFuncLoad(e,t){var o;"object"==typeof window[e]&&"function"==typeof window[e].Player?t():o=setInterval(function(){"object"==typeof window[e]&&"function"==typeof window[e].Player&&(t(),clearInterval(o),o=0)},100),window.addEventListener("load",function(){setTimeout(function(){if(o){if("object"!=typeof window[e]||"function"!=typeof window[e].Player)throw clearInterval(o),new Error(e+" is undefined");t(),clearInterval(o)}},5e3)})}!function(){window.processYoutubeVideo=function(e,t){load_youtube_api();videoProcessor_onFuncLoad("YT",function(){var o,i=e.getAttribute("data-content-video-url-youtube"),n=e.getAttribute("data-content-video-nomute"),r=e.getAttribute("data-content-video-noloop"),s=e.getAttribute("data-content-video-nocover"),d=document.createElement("iframe");d.src=processSrc(i,s,n),d.frameBorder="0",d.allow="fullscreen",e.appendChild(d),window.isMobile||"undefined"==typeof YT||new YT.Player(d,{events:{onReady:function(t){onYouTubePlayerReady_do(e,t.target,n),t.target.setVolume&&"yes"!==n&&t.target.setVolume(0),t.target.setLoop(!0)},onStateChange:function(e){if(e.target.setVolume&&"yes"!==n&&e.target.setVolume(0),-1===e.data){var t=window.fix_scrolltop_beforestop_youtube;t>=0&&(window.scrollTo(0,t),delete window.fix_scrolltop_beforestop_youtube)}e.data===YT.PlayerState.PLAYING?o=window.setInterval(function(){var t=e.target.getCurrentTime(),o=e.target.getDuration();t+1>o&&0!==o&&(e.target.seekTo(0),"yes"===r&&(e.target.stopVideo(),e.target.clearVideo()))},1e3):window.clearInterval(o)}}}),setWidthAndHeightVideo(e,t,"youtube")})};window.videoBG=function(e,t){var o={};if("object"==typeof t)o=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var o in arguments[t])arguments[t].hasOwnProperty(o)&&(e[o]=arguments[t][o]);return e}({},window.videoBG.defaults,t);else{if(t)return t.videoBG(o);o=window.videoBG.defaults}var i=e;if(i){"static"!==i.style.position&&i.style.position||(i.style.position="relative"),0===o.width&&(o.width=i.offsetWidth),0===o.height&&(o.height=i.offsetHeight),o.textReplacement&&(o.scale=!0,i.style.width=o.width+"px",i.style.height=o.height+"px",i.style.textIndent="-9999px");var n=window.videoBG.video(o);if(o.scale&&(n.style.height=o.height+"px",n.style.width=o.width+"px"),i.insertAdjacentElement("beforeend",n),i.getAttribute("data-content-video-nomute")){var r=i.querySelector("video");r&&r.setAttribute("muted","true")}return setWidthAndHeightVideo(n,o.height+"px","html5"),n.querySelector("video")}},window.videoBG.setFullscreen=function(e){var t,o=window.innerWidth,i=window.innerHeight;if(e.style.minHeight=0,e.style.minWidth=0,e.parentNode&&(e.parentNode.style.width=o+"px",e.parentNode.style.height=i+"px"),o/i>e.aspectRatio){e.style.width=o+"px",e.style.height="auto";var n=e.offsetHeight;t=(n-o)/2>0?(n-o)/2:0,e.style.top=-t+"px"}else{e.style.width="auto",e.style.height=i+"px";var r=e.offsetWidth;t=(r-o)/2>0?(r-o)/2:0,e.style.left=-t+"px",0===t&&setTimeout(function(){window.videoBG.setFullscreen(e)},500)}var s=document.querySelectorAll("body > .videoBG_wrapper");Array.prototype.forEach.call(s,function(e){e.style.width=o+"px",e.style.height=i+"px"})},window.videoBG.video=function(e){var t=document.createElement("div");t.classList.add("videoBG"),t.style.position=e.position,t.style.zIndex=e.zIndex,t.style.top="0",t.style.left="0",t.style.height=e.height+"px",t.style.width=e.width+"px",t.style.opacity=e.opacity,t.style.overflow="hidden";var o,i=document.createElement("video");(i.style.position="relative",i.style.zIndex=e.zIndex,i.style.poster=e.poster,i.style.top="0",i.style.left="0",i.style.minHeight="100%",i.style.minWidth="100%",i.setAttribute("autoplay",e.autoplay),e.loop?i.setAttribute("loop",e.loop):i.removeAttribute("loop"),i.setAttribute("muted",e.muted),e.volume>0?i.setAttribute("volume",e.volume):i.setAttribute("volume","0"),e.fullscreen)&&(i.addEventListener("canplay",function(){i.aspectRatio=i.offsetWidth/i.offsetHeight,window.videoBG.setFullscreen(i)}),window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(function(){window.videoBG.setFullscreen(i)},100)}),window.videoBG.setFullscreen(i));if(e.loop){var n=e.loop;i.addEventListener("ended",function(){n&&(i.muted=!0,i.play()),!0!==n&&n--})}i.addEventListener("canplay",function(){e.autoplay&&(i.muted=!0,i.play())}),window.videoBG.supportsVideo()&&(window.videoBG.supportType("webm")&&""!==e.webm?i.setAttribute("src",e.webm):window.videoBG.supportType("mp4")&&""!==e.mp4?i.setAttribute("src",e.mp4):i.setAttribute("src",e.ogv));var r=document.createElement("img");return r.setAttribute("src",e.poster),r.style.position="absolute",r.style.zIndex=e.zIndex,r.style.top="0",r.style.left="0",r.style.minHeight="100%",r.style.minWidth="100%",window.videoBG.supportsVideo()?t.insertAdjacentElement("beforeend",i):t.insertAdjacentElement("beforeend",r),e.textReplacement&&(t.style.minHeight="1px",t.style.minWidth="1px",i.style.minHeight="1px",i.style.minWidth="1px",r.style.minHeight="1px",r.style.minWidth="1px",t.style.height=e.height+"px",t.style.width=e.width+"px",i.style.height=e.height+"px",i.style.width=e.width+"px",r.style.height=e.height+"px",r.style.width=e.width+"px"),window.videoBG.supportsVideo(),t},window.videoBG.supportsVideo=function(){return document.createElement("video").canPlayType},window.videoBG.supportType=function(e){if(!window.videoBG.supportsVideo())return!1;var t=document.createElement("video");switch(e){case"webm":return t.canPlayType('video/webm; codecs="vp8, vorbis"');case"mp4":return t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');case"ogv":return t.canPlayType('video/ogg; codecs="theora, vorbis"')}return!1},window.videoBG.wrapper=function(){var e=document.createElement("div");return e.classList.add("videoBG_wrapper"),e.style.position="absolute",e.style.top="0",e.style.left="0",e},window.videoBG.defaults={mp4:"",ogv:"",webm:"",poster:"",autoplay:!0,loop:!0,scale:!1,position:"absolute",opacity:1,textReplacement:!1,zIndex:0,width:0,height:0,fullscreen:!1,imgFallback:!0}}(),function(){function e(){this.setScrollListener()}e.prototype.videoTags=[],e.prototype.defaultConfig={isNeedStop:!1},e.prototype.videoConfigs=[],e.prototype.registerNewVideo=function(e,t){if(!(e instanceof HTMLVideoElement))throw new Error("Wrong tag passed into registerNewVideo");return-1===this.videoTags.indexOf(e)&&(this.videoTags.push(e),this.videoConfigs.push(void 0===t?this.defaultConfig:t),this.scrollCb("",!0),!0)},e.prototype.unergisterVideo=function(e){if(!(e instanceof HTMLVideoElement))throw new Error("Wrong tag passed into unregisterNewVideo");var t;return-1!==(t=this.videoTags.indexOf(e))&&("function"==typeof e.remove?null!==e.parentNode&&e.parentNode.removeChild(e):e.parentNode&&e.parentNode.removeChild(e),this.pauseVideo(e,this.videoConfigs[t]),this.videoTags.splice(t,1),this.videoConfigs.splice(t,1),!0)},e.prototype.pauseVideo=function(e,t){if(!t)throw new Error("Wrong config type!");e.pause(),t.isNeedStop&&e.load()},e.prototype.setScrollListener=function(){window.addEventListener("scroll",t_throttle(this.scrollCb.bind(this),200))},e.prototype.scrollCb=function(e,t){for(var o,i=window.innerHeight,n=null,r=0,s=this.videoTags.length;r<s;r++){if(n=this.videoTags[r],o=this.getVideoBoundingRect(n,!1),Math.abs(o.top)<i&&Math.abs(o.top)>i/2){var d=1-(Math.abs(o.top)-i/2)/(i/2)-.2;d>0&&d<=1&&0!=n.volume&&(n.volume=d)}Math.abs(o.top)>i||0==o.height?this.pauseVideo(n,this.videoConfigs[r]):(t&&(n.muted=!0,n.play()),n.paused&&n.loop&&(n.muted=!0,n.play()))}},e.prototype.getVideoObject=function(e){for(var t=this.videoTags.length,o=0;o<t;o++){var i=this.videoTags[o];if(i.v===e)return i}return null},e.prototype.getVideoBoundingRect=function(e,t){void 0===t&&(t=!0);var o=null;return t&&(o=e.closest(".r"))||(o=e),o.getBoundingClientRect()},window.videoLoadProcessor=new e}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}return null});