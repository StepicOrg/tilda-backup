function t_animateSbs__init(){var t=document.querySelector(".t-records"),t=t?t.getAttribute("data-tilda-mode"):null;window.isSearchBot||t_animateParallax__checkOldIE()||"edit"===t||(document.querySelectorAll('[data-animate-sbs-event="scroll"]').length&&(document.querySelector(".t-records#allrecords").style.overflowX="hidden"),t_animateSbs__wrapAnimatedAtomEls(),setTimeout(function(){t_animateSbs__initAllRes()},50))}function t_animateSbs__wrapAnimatedAtomEls(){var t=document.querySelectorAll("[data-animate-sbs-event]");Array.prototype.forEach.call(t,function(t){var e,a,s,n,i,r,o,l,_=t.querySelector(".tn-atom");_&&(-1===navigator.userAgent.indexOf("Chrome")&&(_.style.WebkitBackfaceVisibility="hidden",_.style.backfaceVisibility="hidden"),!_.closest(".tn-atom__sbs-anim-wrapper")&&t_animateSbs__getOptsPublishMode(t)&&(t_animateSbs__wrapEl(_.closest(".tn-atom__scale-wrapper")||_,"tn-atom__sbs-anim-wrapper"),e=(_=t.querySelector(".tn-atom")).closest(".t396__elem"),a=_.closest(".tn-atom__sbs-anim-wrapper"),o=e?e.getAttribute("data-elem-type"):"",l=window.getComputedStyle(e).getPropertyValue("border-radius"),"shape"===o&&l&&parseInt(l)&&(a.style.borderRadius=l),s=window.getComputedStyle(e).getPropertyValue("filter"),n=window.getComputedStyle(e).getPropertyValue("-webkit-filter"),i=window.getComputedStyle(e).getPropertyValue("backdrop-filter"),r=window.getComputedStyle(e).getPropertyValue("-webkit-backdrop-filter"),t=e?s&&"none"!==s||n&&"none"!==n:null,o=e?i&&"none"!==i||r&&"none"!==r:null,l=window.getComputedStyle(_).transform,t&&(a.style.WebkitFilter=n,a.style.filter=s,e.style.filter="none",(e.style.WebkitFilter="none")===l&&(_.style.transform="translateZ(0)")),o&&(a.style.WebkitBackdropFilter=r,a.style.backdropFilter=i,e.style.backdropFilter="none",(e.style.WebkitBackdropFilter="none")===l&&(_.style.transform="translateZ(0)"))))})}function t_animateSbs__initAllRes(){var t,e,s={els:document.querySelectorAll("[data-animate-sbs-event]"),scrollTop:window.pageYOffset,stop:!1,needUpdate:!0};function a(){clearTimeout(t),t=setTimeout(function(){s.stop=!1,t_animateSbs__cashElsData(s),t_animateSbs__triggerScrollAnim(s);var t=t_animateSbs__generateKeyframes(s),e=document.head.querySelector("style.sbs-anim-keyframes"),a=e?e.textContent:"";t&&e&&t!==a&&(e.textContent=t)},500)}s.mode=s.els[0]&&s.els[0].hasAttribute("data-field-sbsevent-value")?"edit":"publish",0!==s.els.length&&(t_animateSbs__cashElsData(s),(e=t_animateSbs__generateKeyframes(s))&&document.head.insertAdjacentHTML("beforeend",'<style class="sbs-anim-keyframes">'+e+"</style>"),e=(e=document.getElementById("allrecords"))?e.getAttribute("data-tilda-lazy"):null,"y"!==window.lazy&&"yes"!==e||t_animateSbs__onFuncLoad("t_lazyload_update",function(){t_lazyload_update()}),window.addEventListener("resize",a),e=document.querySelectorAll(".t396"),Array.prototype.forEach.call(e,function(t){"undefined"!=typeof jQuery?$(t).bind("displayChanged",a):t.addEventListener("displayChanged",a)}),t_animateSbs__triggerTimeAnim(s),document.querySelectorAll("[data-animate-sbs-event=scroll]").length&&(t_animateSbs__triggerScrollAnim(s),t_animateSbs__checkFrame(s)),window.addEventListener("load",function(){t_animateSbs__rereadElsValues(s)}),setTimeout(function(){t_animateSbs__rereadElsValues(s)},3e3))}function t_animateSbs__rereadElsValues(e){var t=e?e.els:null;t&&t.length&&Array.prototype.forEach.call(t,function(t){t_animateSbs__cashElsTopOffset(t,e),"scroll"===t.changeType&&t_animateSbs__updateStepsStartValues(t)})}function t_animateSbs__checkFrame(t){t.needUpdate=t_animateSbs__checkChanges(t),t.needUpdate&&!1===t.stop&&t_animateSbs__triggerScrollAnim(t),requestAnimationFrame(function(){t_animateSbs__checkFrame(t)})}function t_animateSbs__checkChanges(t){var e=t.scrollTop;return t.scrollTop=window.pageYOffset,e!==t.scrollTop&&!1===t.stop}function t_animateSbs__triggerScrollAnim(a){var t=a?a.els:[];Array.prototype.forEach.call(t,function(t){var e;"time"!==t.changeType&&(t_animateSbs__triggerScrollAnim__checkElSteps(a,t,e={opacity:1,blur:0,fix:!1,fixedShiftY:0,translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0}),t_animateSbs__triggerScrollAnim__changeEl(t,e))})}function t_animateSbs__triggerScrollAnim__checkElSteps(r,o,l){var t=o?o.steps:null;t&&t.length&&Array.prototype.forEach.call(t,function(t,e){t.index=e;var a=r.scrollTop+o.triggerOffset,s=a>=t.start,n=a<t.start,i=t.end<=a,e=t.end>a;s&&e&&(t.state="started",o.wrapperEl&&(o.wrapperEl.style.willChange="transform"),a=a-t.start,a=0===t.dist?1:a/t.dist,l.prevUnfixedDist=t.prevUnfixedDist,t_animateSbs__triggerScrollAnim__calcStyle(l,t,a)),i&&(t.state="finished",o.wrapperEl&&(o.wrapperEl.style.willChange=""),t_animateSbs__triggerScrollAnim__calcStyle(l,t,1)),!n||"started"!==t.state&&"finished"!==t.state||(t.state="unactive",o.wrapperEl&&(o.wrapperEl.style.willChange=""),t_animateSbs__triggerScrollAnim__calcStyle(l,t,0))}),o.steps[1]&&"unactive"===o.steps[1].state&&0===o.steps[1].styles.opacity&&0===o.steps[1].dist&&(l.opacity=0)}function t_animateSbs__generateKeyframes(t){var s="",t=t?t.els:null;return t&&t.length&&Array.prototype.forEach.call(t,function(t){var e,a;"time"===t.changeType&&(e={timeDuration:0},a=[],t_animateSbs__generateKeyframes__combineObjects(t.steps,a,e),t_animateSbs__generateKeyframes__correctFrames(a),t_animateSbs__generateKeyframes__countPercent(a,e),t_animateSbs__generateKeyframes__correctOpacityOnFirstStep(t,a),a=t_animateSbs__generateKeyframes__getTxtStyles(t,a),e.timeDuration/=1e3,""!==a&&(s+=t_animateSbs__generateKeyframes__getFinalCss(t,e,a),"loop"===t.loop||"noreverse"===t.loop||"hover"!==t.animType&&"click"!==t.animType||(s+=t_animateSbs__generateKeyframes__getReverseAnim(t))))}),s}function t_animateSbs__generateKeyframes__getReverseAnim(t){var e=t.getAttribute("data-elem-id"),a="";return a+="#"+(t.closest(".t-rec")?t.closest(".t-rec").getAttribute("id"):"")+" ",a+='[data-elem-id="'+e+'"].t-sbs-anim_started.t-sbs-anim_reversed .tn-atom__sbs-anim-wrapper',a+="{\n-webkit-animation-direction: reverse;\nanimation-direction: reverse;\n}\n\n"}function t_animateSbs__generateKeyframes__getFinalCss(t,e,a){var s="",n=t?t.getAttribute("data-elem-id"):"",i="sbs-anim-"+n,r=t?t.closest(".t-rec"):null,r=r?r.getAttribute("id"):"";return t.timeDuration=e.timeDuration,r&&(s+="#"+r+" ",i="sbs-anim-"+r+"-"+n,!0===e.reverse&&(i+="_reverse")),s+=(!0===e.hover?'[data-elem-id="'+n+'"].t-sbs-anim_started:hover .tn-atom__sbs-anim-wrapper':'[data-elem-id="'+n+'"].t-sbs-anim_started .tn-atom__sbs-anim-wrapper')+" {\nanimation: "+i+" "+(0===e.timeDuration?1e-5:e.timeDuration)+"s","loop"===t.loop&&(s+=" infinite"),s+=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?" linear 0.000001s":" linear","loop"!==t.loop&&(s+=" forwards"),s+=";\nbackface-visibility: hidden;\n}\n\n@keyframes "+i+" {\n"+a+"}\n\n"}function t_animateSbs__generateKeyframes__combineObjects(t,e,a){for(var s=0;s<t.length;s++){var n=t[s],i={};i.styles=n.styles,i.time=+n.time||0,s!==t.length-1&&(i.ease=t[s+1].ease),e.push(i),a.timeDuration+=i.time}}function t_animateSbs__generateKeyframes__correctFrames(t){for(var e=0;e<t.length;e++){var a,s,n,i=t[e],r=e===t.length-1,o=0===e;for(n in r||(a=t[e+1]),o||(s=t[e-1]),i.styles)o||n in s.styles||t_animateSbs__generateKeyframes__addStyleToKeyframe(i,s,n,0),r||(n in a.styles?"moveX"!==n&&"moveY"!==n&&"rotate"!==n||t_animateSbs__generateKeyframes__recalculateValue(i,a,n):t_animateSbs__generateKeyframes__addStyleToKeyframe(i,a,n,1))}}function t_animateSbs__generateKeyframes__addStyleToKeyframe(t,e,a,s){"blur"!==a&&"rotate"!==a&&"moveX"!==a&&"moveY"!==a||(e.styles[a]=0===s?0:t.styles[a]),"opacity"!==a&&"scaleX"!==a&&"scaleY"!==a||(e.styles[a]=0===s?1:t.styles[a])}function t_animateSbs__generateKeyframes__recalculateValue(t,e,a){switch(a){case"rotate":e.styles.rotate=+t.styles.rotate+ +e.styles.rotate;break;case"moveX":e.styles.moveX=+t.styles.moveX+ +e.styles.moveX;break;case"moveY":e.styles.moveY=+t.styles.moveY+ +e.styles.moveY}}function t_animateSbs__generateKeyframes__countPercent(t,e){for(var a=0;a<t.length;a++){var s,n,i=t[a];0===a?0===e.timeDuration?i.percent=0:(s=(100*i.time/e.timeDuration).toFixed(2),i.percent=parseInt(s,10)):a===t.length-1?i.percent=100:(n=t[a-1].percent,0===e.timeDuration?i.percent=0:(s=(100*i.time/e.timeDuration+n).toFixed(2),i.percent=parseInt(s,10)),i.percent===n&&(i.percent+=1),100<i.percent&&(i.percent=99))}}function t_animateSbs__generateKeyframes__correctOpacityOnFirstStep(t,e){var a=e[1];a&&0===a.time&&0===a.styles.opacity&&((t=t?t.querySelector(".tn-atom__sbs-anim-wrapper"):null)&&(t.style.opacity="0"),e[0].styles.opacity=0)}function t_animateSbs__generateKeyframes__getTxtStyles(t,e){for(var a="",s=0;s<e.length;s++)void 0===e[s].changes&&(e[s].changes=t_animateSbs__generateKeyframes__getFrameChanges(t,e[s])),a+=e[s].percent+"% {"+e[s].changes+"}\n";return a}function t_animateSbs__generateKeyframes__getFrameChanges(t,e){var a,s="",n="",i={x:1,y:1,changed:!1},r=1;for(a in t_animationSbs__isOnlyScalableElem()&&(r=t_animationSbs__getZoom(t)),e.styles)switch(a){case"opacity":s+="opacity:"+e.styles.opacity+";";break;case"scaleX":i.x=e.styles.scaleX,i.changed=!0;break;case"scaleY":i.y=e.styles.scaleY,i.changed=!0;break;case"moveX":n+="translateX("+e.styles.moveX*r+"px)";break;case"moveY":n+="translateY("+e.styles.moveY*r+"px)";break;case"rotate":n+="rotate("+e.styles.rotate+"deg)"}if(!0===i.changed&&(n+="scale("+i.x+","+i.y+")"),""!==n&&(s+="transform:"+n+";"),void 0!==e.ease)switch(s+="animation-timing-function:",e.ease){case"easeIn":s+="ease-in;";break;case"easeOut":s+="ease-out;";break;case"easeInOut":s+="ease-in-out;";break;case"bounceFin":s+="cubic-bezier(0.34,1.61,0.7,1);";break;default:s+="linear;"}return s}function t_animateSbs__generateKeyframes__reverseObj(t){for(var e=[],a=t.length-1;0<=a;a--){var s={percent:100-t[a].percent,changes:t[a].changes};e.push(s)}return e}function t_animateSbs__triggerScrollAnim__changeEl(t,e){var a=t_animationSbs__getZoom(t);t_animationSbs__isOnlyScalableElem()&&(a=1/a),!0===e.fix&&t.wrapperEl&&"fixed"!==t.wrapperEl.style.position&&(s=t.triggerOffset-e.prevUnfixedDist,t.wrapperEl.style.top=s+"px",t.wrapperEl.style.position="fixed",t.zIndexVal&&(t.wrapperEl.style.zIndex=t.zIndexVal)),!1===e.fix&&t.wrapperEl&&"fixed"===t.wrapperEl.style.position&&(t.wrapperEl.style.position="",t.wrapperEl.style.top="",t.wrapperEl.style.zIndex="",t.zIndexVal&&(t.style.zIndex=t.zIndexVal)),null!==e.opacity&&t.wrapperEl&&(t.wrapperEl.style.opacity=e.opacity);var s,n="";e.translateX&&(s=e.translateX,t_animationSbs__isOnlyScalableElem()&&(s/=a),n+="translateX("+s+"px)"),0===e.translateY&&0===e.fixedShiftY||(t_animationSbs__isOnlyScalableElem()?n+="translateY("+(e.translateY+e.fixedShiftY)+"px)":n+="translateY("+(e.translateY/a+e.fixedShiftY/a)+"px)"),1===e.scaleX&&1===e.scaleY||(n+="scale("+e.scaleX+","+e.scaleY+")"),0!==e.rotate&&(n+="rotate("+e.rotate+"deg)"),t.wrapperEl&&(t.wrapperEl.style.transform=n,t.wrapperEl.style.transform=""!==n?n:"scale(1)")}function t_animateSbs__triggerScrollAnim__calcStyle(t,e,a){if(!0===e.styles.fix&&"started"===e.state&&(t.fix=!0,t.fixedShiftY=0),!0===e.styles.fix&&"finished"===e.state&&(t.fix=!1,t.fixedShiftY+=+e.dist),!0===e.styles.fix&&"unactive"===e.state){if(0<e.index&&!0===t.fix)return;t.fix=!1}t.opacity+=a*(e.styles.opacity-t.opacity),t.blur+=a*(e.styles.blur-t.blur),t.translateX+=a*e.styles.moveX,t.translateY+=a*e.styles.moveY,t.scaleX+=a*(e.styles.scaleX-t.scaleX),t.scaleY+=a*(e.styles.scaleY-t.scaleY),t.rotate+=a*e.styles.rotate}function t_animateSbs__getOptsPublishMode(t){var e=window.innerWidth;return 1200<=e?t.getAttribute("data-animate-sbs-opts"):"y"===t.getAttribute("data-animate-mobile")?960<=e?t.getAttribute("data-animate-sbs-opts-res-960")||t.getAttribute("data-animate-sbs-opts"):640<=e?t.getAttribute("data-animate-sbs-opts-res-640")||t.getAttribute("data-animate-sbs-opts-res-960")||t.getAttribute("data-animate-sbs-opts"):480<=e?t.getAttribute("data-animate-sbs-opts-res-480")||t.getAttribute("data-animate-sbs-opts-res-640")||t.getAttribute("data-animate-sbs-opts-res-960")||t.getAttribute("data-animate-sbs-opts"):320<=e?t.getAttribute("data-animate-sbs-opts-res-320")||t.getAttribute("data-animate-sbs-opts-res-480")||t.getAttribute("data-animate-sbs-opts-res-640")||t.getAttribute("data-animate-sbs-opts-res-960")||t.getAttribute("data-animate-sbs-opts"):void 0:void 0}function t_animateSbs__getOptsEditMode(t){var e=window.tn.curResolution;return 1200<=e?t.getAttribute("data-field-sbsopts-value"):960<=e?t.getAttribute("data-field-sbsopts-res-960-value")||t.getAttribute("data-field-sbsopts-value"):640<=e?t.getAttribute("data-field-sbsopts-res-640-value")||t.getAttribute("data-field-sbsopts-res-960-value")||t.getAttribute("data-field-sbsopts-value"):480<=e?t.getAttribute("data-field-sbsopts-res-480-value")||t.getAttribute("data-field-sbsopts-res-640-value")||t.getAttribute("data-field-sbsopts-res-960-value")||t.getAttribute("data-field-sbsopts-value"):320<=e?t.getAttribute("data-field-sbsopts-res-320-value")||t.getAttribute("data-field-sbsopts-res-480-value")||t.getAttribute("data-field-sbsopts-res-640-value")||t.getAttribute("data-field-sbsopts-res-960-value")||t.getAttribute("data-field-sbsopts-value"):void 0}function t_animateSbs__getTriggetElems(t){var e=window.innerWidth;return 1200<=e?t.getAttribute("data-animate-sbs-trgels"):960<=e?t.getAttribute("data-animate-sbs-trgels-res-960")||t.getAttribute("data-animate-sbs-trgels"):640<=e?t.getAttribute("data-animate-sbs-trgels-res-640")||t.getAttribute("data-animate-sbs-trgels-res-960")||t.getAttribute("data-animate-sbs-trgels"):480<=e?t.getAttribute("data-animate-sbs-trgels-res-480")||t.getAttribute("data-animate-sbs-trgels-res-640")||t.getAttribute("data-animate-sbs-trgels-res-960")||t.getAttribute("data-animate-sbs-trgels"):320<=e?t.getAttribute("data-animate-sbs-trgels-res-320")||t.getAttribute("data-animate-sbs-trgels-res-480")||t.getAttribute("data-animate-sbs-trgels-res-640")||t.getAttribute("data-animate-sbs-trgels-res-960")||t.getAttribute("data-animate-sbs-trgels"):void 0}function t_animateSbs__cashElsData(t){var e=t.els;t.triggerElemsAttrName="edit"===t.mode?"data-field-sbstrgels-value":"data-animate-sbs-trgels";for(var a=0;a<e.length;a++){var s,n=e[a],i=t_animationSbs__getZoom(n);if(n.state="unactive",n.animType="edit"===t.mode?n.getAttribute("data-field-sbsevent-value"):n.getAttribute("data-animate-sbs-event"),n.changeType="scroll"===n.animType?"scroll":"time",n.trigger="edit"===t.mode?n.getAttribute("data-field-sbstrg-value"):n.getAttribute("data-animate-sbs-trg"),n.trigger=n.trigger||1,n.triggerElems=t_animateSbs__getTriggetElems(n),n.wrapperEl=n.querySelector(".tn-atom__sbs-anim-wrapper"),n.steps=[],s=("edit"===t.mode?t_animateSbs__getOptsEditMode:t_animateSbs__getOptsPublishMode)(n)){-1!==s.indexOf("fixed")&&(n.zIndexVal=window.getComputedStyle(n).getPropertyValue("z-index")),s=s.replace(/'/g,'"');var r=JSON.parse(s);t_animateSbs__addDelayStepsToStepsArr(r),n.loop="edit"===t.mode?n.getAttribute("data-field-sbsloop-value"):n.getAttribute("data-animate-sbs-loop"),t_animateSbs__cashElsTopOffset(n,t);for(var o=0,l=0;l<r.length;l++){var _={state:"unactive"};_.styles=t_animateSbs__getStylesObj(r[l]),"scroll"===n.changeType?(_.prevUnfixedDist=o,_.dist=r[l].di*i,!1===_.styles.fix&&(o+=Number(_.dist)),_.start=0===l?n.topOffset:n.steps[l-1].end,_.end=_.start+ +_.dist):(_.time=r[l].ti,_.ease=r[l].ea),n.steps.push(_)}t_animateSbs__updateInfoOnImgLoad(n,t),t_animateSbs__recalcStepsStylesDiff(n.steps)}}}function t_animateSbs__updateInfoOnImgLoad(e,a){var t=e.querySelectorAll("img");Array.prototype.forEach.call(t,function(t){t.addEventListener("load",function(){t_animateSbs__cashElsTopOffset(e,a),"scroll"===e.changeType&&t_animateSbs__updateStepsStartValues(e)}),t.complete&&(t_animateSbs__cashElsTopOffset(e,a),"scroll"===e.changeType&&t_animateSbs__updateStepsStartValues(e))})}function t_animateSbs__updateStepsStartValues(t){for(var e=0;e<t.steps.length;e++){var a=t.steps[e];a.start=0===e?t.topOffset:t.steps[e-1].end,a.end=a.start+ +a.dist}}function t_animateSbs__cashElsTopOffset(t,e){var a;"scroll"!==t.animType&&"intoview"!==t.animType&&"blockintoview"!==t.animType||"publish"!==e.mode||(a=parseInt(t.style.top),e=(e=t.closest(".r"))?e.getBoundingClientRect().top+window.pageYOffset:0,t.blockTopOffset=e,t.topOffset=e+a,t_animateSbs__getElTrigger(t))}function t_animateSbs__addDelayStepsToStepsArr(t){for(var e=0;e<t.length;e++){var a,s=t[e];(s.dd&&"0"!==s.dd||s.dt&&"0"!==s.dt)&&(a=0!==e?t_animateSbs__cloneStep(t[e-1]):{mx:"0",my:"0",sx:"1",sy:"1",op:"1",ro:"0",bl:"0",ea:""},void 0!==s.dt?a.ti=s.dt:a.di=s.dd,t.splice(e,0,a),e++)}}function t_animateSbs__cloneStep(t){return{mx:t.mx,my:t.my,sx:t.sx,sy:t.sy,op:t.op,ro:t.ro,bl:t.bl,ea:t.ea}}function t_animateSbs__recalcStepsStylesDiff(t){for(var e=t[0].styles.moveX,a=t[0].styles.moveY,s=t[0].styles.rotate,n=1;n<t.length;n++){var i=t[n].styles;i.moveX=i.moveX-e,e+=i.moveX,i.moveY=i.moveY-a,a+=i.moveY,i.rotate=i.rotate-s,s+=i.rotate}}function t_animateSbs__getStylesObj(t){var e={};return e.moveX=void 0!==t.mx?+t.mx:0,e.moveY=void 0!==t.my?+t.my:0,e.scaleX=void 0!==t.sx?+t.sx:1,e.scaleY=void 0!==t.sy?+t.sy:1,e.opacity=void 0!==t.op?+t.op:1,e.rotate=void 0!==t.ro?+t.ro:0,e.blur=void 0!==t.bl?+t.bl:0,e.fix=void 0!==t.fi&&"fixed"===t.fi,e}function t_animateSbs__getElTrigger(t){var e=window.innerHeight,a=1;t_animationSbs__isOnlyScalableElem()&&(a=t_animationSbs__getZoom(t)),t.triggerOffset=t.getAttribute("data-animate-sbs-trgofst")*a,t.triggerOffset=t.triggerOffset?Number(t.triggerOffset):0,.5==+t.trigger&&(t.triggerOffset+=e/2,("intoview"===t.animType||"scroll"===t.animType)&&t.triggerOffset>t.topOffset&&t.triggerOffset<=e/2&&(t.triggerOffset=t.topOffset),"blockintoview"===t.animType&&t.triggerOffset>t.blockTopOffset&&t.triggerOffset<=e/2&&(t.triggerOffset=t.blockTopOffset)),1==+t.trigger&&(t.triggerOffset+=e,("intoview"===t.animType||"scroll"===t.animType)&&t.triggerOffset>t.topOffset&&t.triggerOffset<=e&&(t.triggerOffset=t.topOffset),"blockintoview"===t.animType&&t.triggerOffset>t.blockTopOffset&&t.triggerOffset<=e&&(t.triggerOffset=t.blockTopOffset))}function t_animateSbs__triggerTimeAnim(t){var e=Array.prototype.filter.call(t.els,function(t){return"intoview"===t.getAttribute("data-animate-sbs-event")||"blockintoview"===t.getAttribute("data-animate-sbs-event")});t_animateSbs__checkIntoviewEls(t,e),window.addEventListener("scroll",t_throttle(function(){t_animateSbs__checkIntoviewEls(t,e)},200)),t_animateSbs__onActions__initClick(t),t_animateSbs__onActions__initHover(t)}function t_animateSbs__onActions__initClick(t){t_animateSbs__onActions__connectTrgrsWithAnimatedEls(Array.prototype.filter.call(t.els,function(t){return"click"===t.getAttribute("data-animate-sbs-event")}),{},"click");t=document.querySelectorAll(".js-sbs-anim-trigger_click");Array.prototype.forEach.call(t,function(t){t.style.cursor="pointer"});function e(t){t=t.currentTarget["data-els-to-animate-on-click"]||[],window.innerWidth<1200&&(t=Array.prototype.filter.call(t,function(t){return"y"===t.getAttribute("data-animate-mobile")})),((t[0]?t[0].classList.contains("t-sbs-anim_started")&&!t[0].classList.contains("t-sbs-anim_reversed"):null)?t_animateSbs__onActions__end:t_animateSbs__onActions__start)(t)}Array.prototype.forEach.call(t,function(t){t.removeEventListener("click",e),t.addEventListener("click",e)})}function t_animateSbs__onActions__initHover(t){t_animateSbs__onActions__connectTrgrsWithAnimatedEls(Array.prototype.filter.call(t.els,function(t){return"hover"===t.getAttribute("data-animate-sbs-event")}),{},"hover");function e(t){t_animateSbs__onActions__start(t.target["data-els-to-animate-on-hover"])}function a(t){t_animateSbs__onActions__end(t.target["data-els-to-animate-on-hover"])}t=document.querySelectorAll(".js-sbs-anim-trigger_hover");Array.prototype.forEach.call(t,function(t){t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",a),t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",a)})}function t_animateSbs__onActions__connectTrgrsWithAnimatedEls(t,i,r){Array.prototype.forEach.call(t,function(s){var n,t,e=s.triggerElems;e?(t=e?e.split(","):[],e=s.closest(".t396__artboard"),n=e?e.getAttribute("data-artboard-recid"):"",t.forEach(function(t){var e=n+t,a=document.querySelector(".tn-elem__"+n+t);a&&(i[e]&&i[e]["data-els-to-animate-on-"+r]?(t=i[e]["data-els-to-animate-on-"+r],(t=Array.prototype.slice.call(t)).push(s),i[e]["data-els-to-animate-on-"+r]=t):(i[e]=a,i[e].classList.add("js-sbs-anim-trigger_"+r),i[e]["data-els-to-animate-on-"+r]=[s]))})):((t=s.querySelector(".tn-atom__sbs-anim-wrapper"))&&(t["data-els-to-animate-on-"+r]=[s]),t&&t.classList.add("js-sbs-anim-trigger_"+r))})}function t_animateSbs__onActions__start(t){Array.prototype.forEach.call(t,function(t){t.classList.contains("t-sbs-anim_playing")?t.setAttribute("data-planned-dir","play"):t_animateSbs__onActions__play(t)})}function t_animateSbs__onActions__end(t){Array.prototype.forEach.call(t,function(t){"loop"===t.getAttribute("data-animate-sbs-loop")?t.onanimationiteration=function(){t.classList.remove("t-sbs-anim_started","t-sbs-anim_playing"),this.onanimationiteration=null}:t.classList.contains("t-sbs-anim_playing")?t.setAttribute("data-planned-dir","reverse"):t_animateSbs__onActions__playReverse(t)})}function t_animateSbs__onActions__onAnimationEnd(e){function t(){e.classList.remove("t-sbs-anim_playing"),e.removeEventListener("animationend",e["data-callback-dep-anim"]);var t=e.getAttribute("data-planned-dir");"play"===t&&e.classList.contains("t-sbs-anim_reversed")?t_animateSbs__onActions__play(e):"reverse"!==t||e.classList.contains("t-sbs-anim_reversed")||t_animateSbs__onActions__playReverse(e),e.setAttribute("data-planned-dir","")}e.removeEventListener("animationend",t),e.addEventListener("animationend",t),e["data-callback-dep-anim"]=t}function t_animateSbs__getAnimationTime(t){for(var e=t.getAttribute("data-animate-sbs-opts")?JSON.parse(t.getAttribute("data-animate-sbs-opts").split("'").join('"')):[],a=0,s=0;s<e.length;s++){var n=e[s];a+=parseInt(n.ti)}return a}function t_animateSbs__onActions__play(e){e.classList.remove("t-sbs-anim_started","t-sbs-anim_reversed"),t_animateSbs__forceRepaint(e);var t=["t-sbs-anim_started"];0<t_animateSbs__getAnimationTime(e)&&t.push("t-sbs-anim_playing"),t.forEach(function(t){e.classList.add(t)}),t_animateSbs__onActions__onAnimationEnd(e)}function t_animateSbs__onActions__playReverse(e){e.classList.remove("t-sbs-anim_started"),t_animateSbs__forceRepaint(e);var t=["t-sbs-anim_started","t-sbs-anim_reversed"];0<t_animateSbs__getAnimationTime(e)&&t.push("t-sbs-anim_playing"),t.forEach(function(t){e.classList.add(t)}),t_animateSbs__onActions__onAnimationEnd(e)}function t_animateSbs__forceRepaint(t){t.offsetWidth}function t_animateSbs__checkIntoviewEls(a,t){t&&t.length&&(a.scrollTop=window.pageYOffset,t.filter(function(t){var e=a.scrollTop+t.triggerOffset;return!(("blockintoview"===t.animType?e>=t.blockTopOffset:e>=t.topOffset)&&!t.classList.contains("t-sbs-anim_started"))||(t.classList.add("t-sbs-anim_started"),!1)}))}function t_animateParallax__checkOldIE(){var t,e=window.navigator.userAgent,a=e.indexOf("MSIE"),s=!1;return 0<a&&(8!==(t=parseInt(e.substring(a+5,e.indexOf(".",a))))&&9!==t||(s=!0)),s}function t_animationSbs__isOnlyScalableElem(){var t=-1!==navigator.userAgent.search("Firefox"),e=!!window.opr&&!!window.opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/");return t||e}function t_animationSbs__getZoom(t){var e=1,t=t.closest(".t396__artboard");return t&&t.classList.contains("t396__artboard_scale")&&(e=window.tn_scale_factor),e}function t_animateSbs__wrapAtomEls(){var t=document.querySelectorAll("[data-animate-sbs-event]");Array.prototype.forEach.call(t,function(t){var e,a=t.querySelector(".tn-atom");a&&!a.closest(".tn-atom__sbs-anim-wrapper")&&(t_animateSbs__wrapEl(a,"tn-atom__sbs-anim-wrapper"),e=t.getAttribute("data-elem-type"),a=window.getComputedStyle(t).getPropertyValue("border-radius"),"shape"===e&&a&&parseInt(a)&&((t=t.querySelector(".tn-atom__sbs-anim-wrapper"))&&(t.style.borderRadius=a)))})}function t_animateSbs__cashElsInfo(r){var t=r.els;r.triggerElemsAttrName="edit"===r.mode?"data-field-sbstrgels-value":"data-animate-sbs-trgels",Array.prototype.forEach.call(t,function(t){t.state="unactive",t.animType="edit"===r.mode?t.getAttribute("data-field-sbsevent-value"):t.getAttribute("data-animate-sbs-event"),t.changeType="scroll"===t.animType?"scroll":"time",t.trigger="edit"===r.mode?t.getAttribute("data-field-sbstrg-value"):t.getAttribute("data-animate-sbs-trg"),t.trigger=t.trigger||1,t.triggerElems=t.getAttribute(r.triggerElemsAttrName),t.wrapperEl=t.querySelector(".tn-atom__sbs-anim-wrapper"),t.steps=[];var e="edit"===r.mode?t.getAttribute("data-field-sbsopts-value"):t.getAttribute("data-animate-sbs-opts");if(e){-1!==e.indexOf("fixed")&&(t.zIndexVal=window.getComputedStyle(t).getPropertyValue("z-index")),e=e.replace(/'/g,'"');var a=JSON.parse(e);t_animateSbs__addDelayStepsToStepsArr(a),t.loop="edit"===r.mode?t.getAttribute("data-field-sbsloop-value"):t.getAttribute("data-animate-sbs-loop"),t_animateSbs__cashElsTopOffset(t,r);for(var s=0,n=0;n<a.length;n++){var i={state:"unactive"};i.styles=t_animateSbs__getStylesObj(a[n]),"scroll"===t.changeType?(i.prevUnfixedDist=s,i.dist=a[n].di,!1===i.styles.fix&&(s+=Number(i.dist)),i.start=0===n?t.topOffset:t.steps[n-1].end,i.end=i.start+ +i.dist):(i.time=a[n].ti,i.ease=a[n].ea),t.steps.push(i)}t_animateSbs__updateInfoOnImgLoad(t,r),t_animateSbs__recalcStepsStylesDiff(t.steps)}})}function t_animateSbs__reset(t){for(var e=t.els,a=0;a<e.length;a++){var s,n=e[a].animType;"intoview"===n||"blockintoview"===n||"click"===n||"hover"===n?(e[a].classList.remove("t-sbs-anim_started"),(s=e[a].querySelector(".tn-atom__sbs-anim-wrapper"))&&(s.style.opacity="")):(e[a].state="reseted",(s=e[a].wrapperEl)&&(s.style.transform="",s.style.position="",s.style.top="",s.style.opacity=""))}}function t_animateSbs__onFuncLoad(e,a){"function"==typeof window[e]?a():setTimeout(function t(){if("function"!=typeof window[e]){if("complete"===document.readyState&&"function"!=typeof window[e])throw new Error(e+" is undefined");setTimeout(t,100)}else a()})}function t_animateSbs__wrapEl(t,e){if(!t)return!1;var a=t.parentNode,s=document.createElement("div");s.classList.add(e),s.style.display="table",s.style.width="inherit",s.style.height="inherit";e=t.cloneNode(!0);s.appendChild(e),a&&(a.appendChild(s),a.removeChild(t))}"loading"!==document.readyState?t_animateSbs__init():document.addEventListener("DOMContentLoaded",t_animateSbs__init),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});
