function t_animateSbs__init(){var t=document.querySelector(".t-records"),e=t?t.getAttribute("data-tilda-mode"):null;/Bot/i.test(navigator.userAgent)||t_animateParallax__checkOldIE()||"edit"===e||(document.querySelectorAll('[data-animate-sbs-event="scroll"]').length&&(document.querySelector(".t-records#allrecords").style.overflowX="hidden"),isZeroBlocksRender((function(){isInstagramRenderedInIOs((function(){t_animateSbs__wrapAnimatedAtomEls(),setTimeout((function(){t_animateSbs__initAllRes()}),50)}))})))}function isZeroBlocksRender(t){var e=document.querySelector(".t396__artboard");if(e)var a=setInterval((function(){e.classList.contains("rendered")&&(t(),clearTimeout(a))}),30)}function isInstagramRenderedInIOs(t){if(window.animationSBS__isIOS&&window.animationSBS__isInstagram)var e=setTimeout((function(){window.innerWidth!==screen.width&&window.innerHeight>window.innerWidth?isInstagramRenderedInIOs(t):(clearTimeout(e),t())}),100);else t()}function t_animateSbs__wrapAnimatedAtomEls(){var t=document.querySelectorAll("[data-animate-sbs-event]");Array.prototype.forEach.call(t,(function(t){var e=t.querySelector(".tn-atom");if(e&&(-1===navigator.userAgent.indexOf("Chrome")&&(e.style.WebkitBackfaceVisibility="hidden",e.style.backfaceVisibility="hidden"),!e.closest(".tn-atom__sbs-anim-wrapper")&&t_animateSbs__getOptsPublishMode(t))){var a;t_animateSbs__wrapEl(e.closest(".tn-atom__scale-wrapper")||e,"tn-atom__sbs-anim-wrapper");var s=(e=t.querySelector(".tn-atom")).closest(".t396__elem"),n=e.closest(".tn-atom__sbs-anim-wrapper"),i=s?s.getAttribute("data-elem-type"):"",r=window.getComputedStyle(s).getPropertyValue("border-radius");"shape"===i&&r&&parseInt(r)&&(n.style.borderRadius=r);var o=window.getComputedStyle(s).getPropertyValue("filter"),l=window.getComputedStyle(s).getPropertyValue("-webkit-filter"),_=window.getComputedStyle(s).getPropertyValue("backdrop-filter"),c=window.getComputedStyle(s).getPropertyValue("-webkit-backdrop-filter"),m=s?o&&"none"!==o||l&&"none"!==l:null,d=s?_&&"none"!==_||c&&"none"!==c:null,p=window.getComputedStyle(e).transform,u=window.getComputedStyle(e).getPropertyValue("background-color"),b=window.getComputedStyle(e).getPropertyValue("opacity"),f,g;if("rgba(0, 0, 0, 0)"!==u&&"1"!==b&&-1!==navigator.userAgent.indexOf("Chrome")&&d){var y=u.substring(u.indexOf("(")+1,u.indexOf(")"));n.style.backgroundColor="rgba("+y+","+b+")",e.style.opacity="1",e.style.backgroundColor="transparent"}m&&(n.style.WebkitFilter=l,n.style.filter=o,s.style.filter="none",s.style.WebkitFilter="none","none"===p&&(e.style.transform="translateZ(0)")),d&&(-1!==navigator.userAgent.indexOf("Firefox")&&(n.style.backfaceVisibility="visible"),n.style.WebkitBackdropFilter=c,n.style.backdropFilter=_,s.style.backdropFilter="none",s.style.WebkitBackdropFilter="none","none"===p&&(e.style.transform="translateZ(0)"))}}))}function t_animateSbs__initAllRes(){var t={els:document.querySelectorAll("[data-animate-sbs-event]"),scrollTop:window.pageYOffset,stop:!1,needUpdate:!0};if(t.mode=t.els[0]&&t.els[0].hasAttribute("data-field-sbsevent-value")?"edit":"publish",0!==t.els.length){t_animateSbs__cashElsData(t);var e=t_animateSbs__generateKeyframes(t);e&&document.head.insertAdjacentHTML("beforeend",'<style class="sbs-anim-keyframes">'+e+"</style>");var a=document.getElementById("allrecords"),s=a?a.getAttribute("data-tilda-lazy"):null,n;"y"!==window.lazy&&"yes"!==s||t_animateSbs__onFuncLoad("t_lazyload_update",(function(){t_lazyload_update()}));var i=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(i=!0),t_animationSBS__createResizeObserver(c),window.addEventListener(i?"orientationchange":"resize",c);var r=document.querySelectorAll(".t396");Array.prototype.forEach.call(r,(function(t){"undefined"!=typeof jQuery?$(t).bind("displayChanged",c):t.addEventListener("displayChanged",c)}));var o=!1,l;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(o=!0),o){function _(){0!==window.pageYOffset&&c(),window.removeEventListener("scroll",_)}window.addEventListener("scroll",_)}t_animateSbs__triggerTimeAnim(t),document.querySelectorAll("[data-animate-sbs-event=scroll]").length&&(t_animateSbs__triggerScrollAnim(t),t_animateSbs__checkFrame(t)),window.addEventListener("load",(function(){t_animateSbs__rereadElsValues(t)})),setTimeout((function(){t_animateSbs__rereadElsValues(t)}),3e3)}function c(){clearTimeout(n),n=setTimeout((function(){t.stop=!1,t_animateSbs__cashElsData(t),t_animateSbs__triggerScrollAnim(t);var e=Array.prototype.filter.call(t.els,(function(t){return"intoview"===t.getAttribute("data-animate-sbs-event")||"blockintoview"===t.getAttribute("data-animate-sbs-event")}));t_animateSbs__checkIntoviewEls(t,e);var a=t_animateSbs__generateKeyframes(t),s=document.head.querySelector("style.sbs-anim-keyframes"),n=s?s.textContent:"";a&&s&&a!==n&&(s.textContent=a)}),500)}}function t_animationSBS__createResizeObserver(t){var e=document.body.getClientRects();if(e.length&&"ResizeObserver"in window){var a=e[0].height,s;new ResizeObserver((function(s){s.forEach((function(s){s.contentRect.height!==a&&(a=e[0].height,t())}))})).observe(document.body)}}function t_animateSbs__rereadElsValues(t){var e=t?t.els:null;e&&e.length&&Array.prototype.forEach.call(e,(function(e){t_animateSbs__cashElsTopOffset(e,t),"scroll"===e.changeType&&t_animateSbs__updateStepsStartValues(e)}))}function t_animateSbs__checkFrame(t){t.needUpdate=t_animateSbs__checkChanges(t),t.needUpdate&&!1===t.stop&&t_animateSbs__triggerScrollAnim(t),"function"==typeof window.requestAnimationFrame&&requestAnimationFrame((function(){t_animateSbs__checkFrame(t)}))}function t_animateSbs__checkChanges(t){var e=t.scrollTop;return t.scrollTop=window.animationSBS__isSafari&&window.pageYOffset<0?0:window.pageYOffset,e!==t.scrollTop&&!1===t.stop}function t_animateSbs__triggerScrollAnim(t){var e=t?t.els:[];Array.prototype.forEach.call(e,(function(e){if("time"!==e.changeType){var a={opacity:1,blur:0,fix:!1,fixedShiftY:0,translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0},s=e.querySelector(".tn-atom__scale-wrapper");if(s&&e.wrapperEl&&"fixed"!==window.getComputedStyle(e.wrapperEl).position&&!e.hasAttribute("data-scaled-diff")){var n,i,r=e.wrapperEl.getBoundingClientRect().top-s.getBoundingClientRect().top;r>0&&e.setAttribute("data-scaled-diff",r.toString())}t_animateSbs__triggerScrollAnim__checkElSteps(t,e,a),t_animateSbs__triggerScrollAnim__changeEl(e,a)}}))}function t_animateSbs__triggerScrollAnim__checkElSteps(t,e,a){var s=e?e.steps:null;s&&s.length&&Array.prototype.forEach.call(s,(function(s,n){s.index=n;var i=e.getAttribute("data-scaled-diff")||"0";i=parseInt(i,10);var r=t.scrollTop+e.triggerOffset+i,o=r>=s.start,l=r<s.start,_=s.end<=r,c=s.end>r;if(o&&c){s.state="started",e.wrapperEl&&(e.wrapperEl.style.willChange="transform");var m=r-s.start,d=0===s.dist?1:m/s.dist;a.prevUnfixedDist=s.prevUnfixedDist,t_animateSbs__triggerScrollAnim__calcStyle(a,s,d)}_&&(s.state="finished",e.wrapperEl&&(e.wrapperEl.style.willChange=""),t_animateSbs__triggerScrollAnim__calcStyle(a,s,1)),!l||"started"!==s.state&&"finished"!==s.state||(s.state="unactive",e.wrapperEl&&(e.wrapperEl.style.willChange=""),t_animateSbs__triggerScrollAnim__calcStyle(a,s,0))})),e.steps[1]&&"unactive"===e.steps[1].state&&0===e.steps[1].styles.opacity&&0===e.steps[1].dist&&(a.opacity=0)}function t_animateSbs__generateKeyframes(t){var e="",a=t?t.els:null;return a&&a.length&&Array.prototype.forEach.call(a,(function(t){if("time"===t.changeType){var a={timeDuration:0},s=[],n=t_animationSBS__createEmptyStyleOptionsForKeyframes(t.steps);t_animateSbs__generateKeyframes__combineObjects(t.steps,s,a,n),t_animateSbs__generateKeyframes__correctFrames(s),t_animateSbs__generateKeyframes__countPercent(s,a),t_animateSbs__generateKeyframes__correctOpacityOnFirstStep(t,s);var i=t_animateSbs__generateKeyframes__getTxtStyles(t,s);a.timeDuration/=1e3,""!==i&&(e+=t_animateSbs__generateKeyframes__getFinalCss(t,a,i),"loop"===t.loop||"noreverse"===t.loop||"hover"!==t.animType&&"click"!==t.animType||(e+=t_animateSbs__generateKeyframes__getReverseAnim(t)))}})),e}function t_animateSbs__generateKeyframes__getReverseAnim(t){var e=t.getAttribute("data-elem-id"),a,s="";return s+="#"+(t.closest(".t-rec")?t.closest(".t-rec").getAttribute("id"):"")+" ",s+='[data-elem-id="'+e+'"].t-sbs-anim_started.t-sbs-anim_reversed .tn-atom__sbs-anim-wrapper',s+="{\n-webkit-animation-direction: reverse;\nanimation-direction: reverse;\n}\n\n"}function t_animateSbs__generateKeyframes__getFinalCss(t,e,a){var s="",n=t?t.getAttribute("data-elem-id"):"",i="sbs-anim-"+n,r=t?t.closest(".t-rec"):null,o=r?r.getAttribute("id"):"",l,_,c;return t.timeDuration=e.timeDuration,o&&(s+="#"+o+" ",i="sbs-anim-"+o+"-"+n,!0===e.reverse&&(i+="_reverse")),s+=(!0===e.hover?'[data-elem-id="'+n+'"].t-sbs-anim_started:hover .tn-atom__sbs-anim-wrapper':'[data-elem-id="'+n+'"].t-sbs-anim_started .tn-atom__sbs-anim-wrapper')+" {\nanimation: "+i+" "+(0===e.timeDuration?1e-5:e.timeDuration)+"s","loop"===t.loop&&(s+=" infinite"),s+=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?" linear 0.000001s":" linear","loop"!==t.loop&&(s+=" forwards"),s+=";\nbackface-visibility: hidden;\n}\n\n@keyframes "+i+" {\n"+a+"}\n\n"}function t_animateSbs__generateKeyframes__combineObjects(t,e,a,s){for(var n=0;n<t.length;n++){var i=t[n],r={};for(var o in r.styles=i.styles,s)s[o]&&delete r.styles[o];if("{}"===JSON.stringify(r.styles))return;r.time=1*i.time||0,n!==t.length-1&&(r.ease=t[n+1].ease),e.push(r),a.timeDuration+=r.time}}function t_animateSbs__generateKeyframes__correctFrames(t){for(var e=0;e<t.length;e++){var a=t[e],s=e===t.length-1,n=0===e;if(!s)var i=t[e+1];if(!n)var r=t[e-1];for(var o in a.styles)n||o in r.styles||t_animateSbs__generateKeyframes__addStyleToKeyframe(a,r,o,0),s||(o in i.styles?"moveX"!==o&&"moveY"!==o&&"rotate"!==o||t_animateSbs__generateKeyframes__recalculateValue(a,i,o):t_animateSbs__generateKeyframes__addStyleToKeyframe(a,i,o,1))}}function t_animateSbs__generateKeyframes__addStyleToKeyframe(t,e,a,s){"blur"!==a&&"rotate"!==a&&"moveX"!==a&&"moveY"!==a||(e.styles[a]=0===s?0:t.styles[a]),"opacity"!==a&&"scaleX"!==a&&"scaleY"!==a||(e.styles[a]=0===s?1:t.styles[a])}function t_animateSbs__generateKeyframes__recalculateValue(t,e,a){switch(a){case"rotate":e.styles.rotate=1*t.styles.rotate+1*e.styles.rotate;break;case"moveX":e.styles.moveX=1*t.styles.moveX+1*e.styles.moveX;break;case"moveY":e.styles.moveY=1*t.styles.moveY+1*e.styles.moveY}}function t_animateSbs__generateKeyframes__countPercent(t,e){for(var a=0;a<t.length;a++){var s=t[a],n;if(0===a)0===e.timeDuration?s.percent=0:(n=(100*s.time/e.timeDuration).toFixed(2),s.percent=parseInt(n,10));else if(a===t.length-1)s.percent=100;else{var i=t[a-1].percent;if(0===e.timeDuration)s.percent=0;else{if(n=(100*s.time/e.timeDuration+i).toFixed(2),100===parseInt(n,10)&&a===t.length-2&&0!==a)continue;s.percent=parseInt(n,10)}s.percent===i&&(s.percent+=1),s.percent>100&&(s.percent=99)}}}function t_animateSbs__generateKeyframes__correctOpacityOnFirstStep(t,e){var a=e[1];if(a&&0===a.time&&0===a.styles.opacity){var s=t?t.querySelector(".tn-atom__sbs-anim-wrapper"):null;s&&(s.style.opacity="0"),e[0].styles.opacity=0}}function t_animateSbs__generateKeyframes__getTxtStyles(t,e){for(var a="",s=0;s<e.length;s++)void 0===e[s].changes&&(e[s].changes=t_animateSbs__generateKeyframes__getFrameChanges(t,e[s])),a+="number"==typeof e[s].percent?e[s].percent+"% {"+e[s].changes+"}\n":"";return a}function t_animateSbs__generateKeyframes__getFrameChanges(t,e){var a="",s="",n={x:1,y:1,changed:!1},i=1;for(var r in t_animationSbs__isOnlyScalableElem()&&(i=t_animationSbs__getZoom(t)),e.styles)switch(r){case"opacity":a+="opacity:"+e.styles.opacity+";";break;case"scaleX":n.x=e.styles.scaleX,n.changed=!0;break;case"scaleY":n.y=e.styles.scaleY,n.changed=!0;break;case"moveX":s+="translateX("+e.styles.moveX*i+"px)";break;case"moveY":s+="translateY("+e.styles.moveY*i+"px)";break;case"rotate":s+="rotate("+e.styles.rotate+"deg)"}if(!0===n.changed&&(s+="scale("+n.x+","+n.y+")"),""!==s&&(a+="transform:"+s+";"),void 0!==e.ease)switch(a+="animation-timing-function:",e.ease){case"easeIn":a+="ease-in;";break;case"easeOut":a+="ease-out;";break;case"easeInOut":a+="ease-in-out;";break;case"bounceFin":a+="cubic-bezier(0.34,1.61,0.7,1);";break;default:a+="linear;"}return a}function t_animateSbs__triggerScrollAnim__changeEl(t,e){var a=t_animationSbs__getZoom(t);t_animationSbs__isOnlyScalableElem()&&(a=1/a);var s=t.closest(".t396__elem"),n=s?window.getComputedStyle(s).willChange:"";if(!0===e.fix&&t.wrapperEl&&"fixed"!==t.wrapperEl.style.position){var i=t.triggerOffset-e.prevUnfixedDist;t_animationSbs__isOnlyScalableElem()||(i/=a);var r=t.getAttribute("data-scaled-diff")||"0";r=parseInt(r,10),t.wrapperEl.style.top=i+r+"px",t.wrapperEl.style.position="fixed",n&&(s.style.willChange="unset"),t.zIndexVal&&(t.wrapperEl.style.zIndex=t.zIndexVal)}!1===e.fix&&t.wrapperEl&&"fixed"===t.wrapperEl.style.position&&(t.wrapperEl.style.position="",t.wrapperEl.style.top="",t.wrapperEl.style.zIndex="",s&&(s.style.willChange=""),t.zIndexVal&&(t.style.zIndex=t.zIndexVal)),null!==e.opacity&&t.wrapperEl&&(t.wrapperEl.style.opacity=e.opacity);var o="";if(e.translateX){var l=e.translateX;t_animationSbs__isOnlyScalableElem()&&(l/=a),o+="translateX("+l+"px)"}0===e.translateY&&0===e.fixedShiftY||(t_animationSbs__isOnlyScalableElem()?o+="translateY("+(e.translateY+e.fixedShiftY)+"px)":o+="translateY("+(e.translateY/a+e.fixedShiftY/a)+"px)"),1===e.scaleX&&1===e.scaleY||(o+="scale("+e.scaleX+","+e.scaleY+")"),0!==e.rotate&&(o+="rotate("+e.rotate+"deg)"),t.wrapperEl&&(t.wrapperEl.style.transform=o,t.wrapperEl.style.transform=""!==o?o:"scale(1)")}function t_animateSbs__triggerScrollAnim__calcStyle(t,e,a){if(!0===e.styles.fix&&"started"===e.state&&(t.fix=!0,t.fixedShiftY=0),!0===e.styles.fix&&"finished"===e.state&&(t.fix=!1,t.fixedShiftY+=1*e.dist),!0===e.styles.fix&&"unactive"===e.state){if(e.index>0&&!0===t.fix)return;t.fix=!1}t.opacity+=a*(e.styles.opacity-t.opacity),t.blur+=a*(e.styles.blur-t.blur),t.translateX+=a*e.styles.moveX,t.translateY+=a*e.styles.moveY,t.scaleX+=a*(e.styles.scaleX-t.scaleX),t.scaleY+=a*(e.styles.scaleY-t.scaleY),t.rotate+=a*e.styles.rotate}function t_animateSbs__getOptsPublishMode(t){var e,a=window.innerWidth;return a>=1200?t.getAttribute("data-animate-sbs-opts"):"y"===t.getAttribute("data-animate-mobile")?a>=960?((e=t.getAttribute("data-animate-sbs-opts-res-960"))||(e=t.getAttribute("data-animate-sbs-opts")),e):a>=640?((e=t.getAttribute("data-animate-sbs-opts-res-640"))||(e=t.getAttribute("data-animate-sbs-opts-res-960")),e||(e=t.getAttribute("data-animate-sbs-opts")),e):a>=480?((e=t.getAttribute("data-animate-sbs-opts-res-480"))||(e=t.getAttribute("data-animate-sbs-opts-res-640")),e||(e=t.getAttribute("data-animate-sbs-opts-res-960")),e||(e=t.getAttribute("data-animate-sbs-opts")),e):a>=320?((e=t.getAttribute("data-animate-sbs-opts-res-320"))||(e=t.getAttribute("data-animate-sbs-opts-res-480")),e||(e=t.getAttribute("data-animate-sbs-opts-res-640")),e||(e=t.getAttribute("data-animate-sbs-opts-res-960")),e||(e=t.getAttribute("data-animate-sbs-opts")),e):void 0:void 0}function t_animateSbs__getOptsEditMode(t){var e,a=window.tn.curResolution;return a>=1200?t.getAttribute("data-field-sbsopts-value"):a>=960?((e=t.getAttribute("data-field-sbsopts-res-960-value"))||(e=t.getAttribute("data-field-sbsopts-value")),e):a>=640?((e=t.getAttribute("data-field-sbsopts-res-640-value"))||(e=t.getAttribute("data-field-sbsopts-res-960-value")),e||(e=t.getAttribute("data-field-sbsopts-value")),e):a>=480?((e=t.getAttribute("data-field-sbsopts-res-480-value"))||(e=t.getAttribute("data-field-sbsopts-res-640-value")),e||(e=t.getAttribute("data-field-sbsopts-res-960-value")),e||(e=t.getAttribute("data-field-sbsopts-value")),e):a>=320?((e=t.getAttribute("data-field-sbsopts-res-320-value"))||(e=t.getAttribute("data-field-sbsopts-res-480-value")),e||(e=t.getAttribute("data-field-sbsopts-res-640-value")),e||(e=t.getAttribute("data-field-sbsopts-res-960-value")),e||(e=t.getAttribute("data-field-sbsopts-value")),e):void 0}function t_animateSbs__getTriggetElems(t){var e,a=window.innerWidth;return a>=1200?t.getAttribute("data-animate-sbs-trgels"):a>=960?((e=t.getAttribute("data-animate-sbs-trgels-res-960"))||(e=t.getAttribute("data-animate-sbs-trgels")),e):a>=640?((e=t.getAttribute("data-animate-sbs-trgels-res-640"))||(e=t.getAttribute("data-animate-sbs-trgels-res-960")),e||(e=t.getAttribute("data-animate-sbs-trgels")),e):a>=480?((e=t.getAttribute("data-animate-sbs-trgels-res-480"))||(e=t.getAttribute("data-animate-sbs-trgels-res-640")),e||(e=t.getAttribute("data-animate-sbs-trgels-res-960")),e||(e=t.getAttribute("data-animate-sbs-trgels")),e):a>=320?((e=t.getAttribute("data-animate-sbs-trgels-res-320"))||(e=t.getAttribute("data-animate-sbs-trgels-res-480")),e||(e=t.getAttribute("data-animate-sbs-trgels-res-640")),e||(e=t.getAttribute("data-animate-sbs-trgels-res-960")),e||(e=t.getAttribute("data-animate-sbs-trgels")),e):void 0}function t_animateSbs__cashElsData(t){var e=t.els;t.triggerElemsAttrName="edit"===t.mode?"data-field-sbstrgels-value":"data-animate-sbs-trgels";for(var a=0;a<e.length;a++){var s=e[a],n=t_animationSbs__getZoom(s),i;if(s.state="unactive",s.animType="edit"===t.mode?s.getAttribute("data-field-sbsevent-value"):s.getAttribute("data-animate-sbs-event"),s.changeType="scroll"===s.animType?"scroll":"time",s.trigger="edit"===t.mode?s.getAttribute("data-field-sbstrg-value"):s.getAttribute("data-animate-sbs-trg"),s.trigger=s.trigger?s.trigger:1,s.triggerElems=t_animateSbs__getTriggetElems(s),s.wrapperEl=s.querySelector(".tn-atom__sbs-anim-wrapper"),s.steps=[],i="edit"===t.mode?t_animateSbs__getOptsEditMode(s):t_animateSbs__getOptsPublishMode(s)){-1!==i.indexOf("fixed")&&(s.zIndexVal=window.getComputedStyle(s).getPropertyValue("z-index")),i=i.replace(/'/g,'"');var r=JSON.parse(i);t_animateSbs__addDelayStepsToStepsArr(r),s.loop="edit"===t.mode?s.getAttribute("data-field-sbsloop-value"):s.getAttribute("data-animate-sbs-loop"),t_animateSbs__cashElsTopOffset(s,t);for(var o=0,l=0;l<r.length;l++){var _={state:"unactive"};_.styles=t_animateSbs__getStylesObj(r[l]),"scroll"===s.changeType?(_.prevUnfixedDist=o,_.dist=r[l].di*n,!1===_.styles.fix&&(o+=Number(_.dist)),_.start=0===l?s.topOffset:s.steps[l-1].end,_.end=_.start+1*_.dist):(_.time=r[l].ti,_.ease=r[l].ea),s.steps.push(_)}t_animateSbs__updateInfoOnImgLoad(s,t),t_animateSbs__recalcStepsStylesDiff(s.steps)}}}function t_animateSbs__updateInfoOnImgLoad(t,e){var a=t.querySelectorAll("img");Array.prototype.forEach.call(a,(function(a){a.addEventListener("load",(function(){t_animateSbs__cashElsTopOffset(t,e),"scroll"===t.changeType&&t_animateSbs__updateStepsStartValues(t)})),a.complete&&(t_animateSbs__cashElsTopOffset(t,e),"scroll"===t.changeType&&t_animateSbs__updateStepsStartValues(t))}))}function t_animateSbs__updateStepsStartValues(t){for(var e=0;e<t.steps.length;e++){var a=t.steps[e];a.start=0===e?t.topOffset:t.steps[e-1].end,a.end=a.start+1*a.dist}}function t_animateSbs__cashElsTopOffset(t,e){if(("scroll"===t.animType||"intoview"===t.animType||"blockintoview"===t.animType)&&"publish"===e.mode){var a=t_animationSbs__isOnlyScalableElem()?1:t_animationSbs__getZoom(t),s=parseInt(t.style.top,10);"scroll"===t.animType&&(s*=a);var n=t.closest(".r"),i=n?n.getBoundingClientRect().top+window.pageYOffset:0,r=n&&parseInt(n.style.paddingTop,10)||0;t.blockTopOffset=i,t.topOffset=i+r+s,t_animateSbs__getElTrigger(t)}}function t_animateSbs__addDelayStepsToStepsArr(t){for(var e=0;e<t.length;e++){var a=t[e];if(a.dd&&"0"!==a.dd||a.dt&&"0"!==a.dt){var s=0!==e?t_animateSbs__cloneStep(t[e-1]):{mx:"0",my:"0",sx:"1",sy:"1",op:"1",ro:"0",bl:"0",ea:""};void 0!==a.dt?s.ti=a.dt:s.di=a.dd,t.splice(e,0,s),e++}}}function t_animateSbs__cloneStep(t){return{mx:t.mx,my:t.my,sx:t.sx,sy:t.sy,op:t.op,ro:t.ro,bl:t.bl,ea:t.ea}}function t_animateSbs__recalcStepsStylesDiff(t){for(var e=t[0].styles.moveX,a=t[0].styles.moveY,s=t[0].styles.rotate,n=1;n<t.length;n++){var i=t[n].styles;i.moveX=i.moveX-e,e+=i.moveX,i.moveY=i.moveY-a,a+=i.moveY,i.rotate=i.rotate-s,s+=i.rotate}}function t_animateSbs__getStylesObj(t){var e={};return e.moveX=void 0!==t.mx?1*t.mx:0,e.moveY=void 0!==t.my?1*t.my:0,e.scaleX=void 0!==t.sx?1*t.sx:1,e.scaleY=void 0!==t.sy?1*t.sy:1,e.opacity=void 0!==t.op?1*t.op:1,e.rotate=void 0!==t.ro?1*t.ro:0,e.blur=void 0!==t.bl?1*t.bl:0,e.fix=void 0!==t.fi&&"fixed"===t.fi,e}function t_animateSbs__getElTrigger(t){var e=window.innerHeight,a=t_animationSbs__getZoom(t);t.triggerOffset=t.getAttribute("data-animate-sbs-trgofst"),(t_animationSbs__isOnlyScalableElem()||"scroll"===t.animType)&&(t.triggerOffset*=a),t.triggerOffset=t.triggerOffset?Number(t.triggerOffset):0,.5==+t.trigger&&(t.triggerOffset+=e/2,("intoview"===t.animType||"scroll"===t.animType)&&t.triggerOffset>t.topOffset&&t.triggerOffset<=e/2&&(t.triggerOffset=t.topOffset),"blockintoview"===t.animType&&t.triggerOffset>t.blockTopOffset&&t.triggerOffset<=e/2&&(t.triggerOffset=t.blockTopOffset)),1==+t.trigger&&(t.triggerOffset+=e,("intoview"===t.animType||"scroll"===t.animType)&&t.triggerOffset>t.topOffset&&t.triggerOffset<=e&&(t.triggerOffset=t.topOffset),"blockintoview"===t.animType&&t.triggerOffset>t.blockTopOffset&&t.triggerOffset<=e&&(t.triggerOffset=t.blockTopOffset))}function t_animateSbs__triggerTimeAnim(t){var e=Array.prototype.filter.call(t.els,(function(t){return"intoview"===t.getAttribute("data-animate-sbs-event")||"blockintoview"===t.getAttribute("data-animate-sbs-event")}));t_animateSbs__checkIntoviewEls(t,e),window.addEventListener("scroll",t_throttle((function(){t_animateSbs__checkIntoviewEls(t,e)}),200)),t_animateSbs__onActions__initClick(t),t_animateSbs__onActions__initHover(t)}function t_animateSbs__onActions__initClick(t){var e,a;t_animateSbs__onActions__connectTrgrsWithAnimatedEls(Array.prototype.filter.call(t.els,(function(t){return"click"===t.getAttribute("data-animate-sbs-event")})),{},"click");var s=document.querySelectorAll(".js-sbs-anim-trigger_click");Array.prototype.forEach.call(s,(function(t){t.style.cursor="pointer"}));var n=function(t){var e=t.currentTarget["data-els-to-animate-on-click"]||[],a;if(t.currentTarget.classList.contains("t396__elem")){t.currentTarget.style.pointerEvents="none";var s=t.currentTarget.querySelector(".tn-atom__sbs-anim-wrapper");s?s.style.pointerEvents="auto":(s=t.currentTarget.querySelector(".tn-atom"))&&(s.style.pointerEvents="auto")}window.innerWidth<1200&&(e=Array.prototype.filter.call(e,(function(t){return"y"===t.getAttribute("data-animate-mobile")}))),(e[0]?e[0].classList.contains("t-sbs-anim_started")&&!e[0].classList.contains("t-sbs-anim_reversed"):null)?t_animateSbs__onActions__end(e):t_animateSbs__onActions__start(e)};Array.prototype.forEach.call(s,(function(t){t.removeEventListener("click",n),t.addEventListener("click",n)}))}function t_animateSbs__onActions__initHover(t){var e,a;t_animateSbs__onActions__connectTrgrsWithAnimatedEls(Array.prototype.filter.call(t.els,(function(t){return"hover"===t.getAttribute("data-animate-sbs-event")})),{},"hover");var s=document.querySelectorAll(".js-sbs-anim-trigger_hover");Array.prototype.forEach.call(s,(function(t){var e=t.querySelector(".tn-atom__sbs-anim-wrapper"),a="none"===getComputedStyle(t).pointerEvents;e&&!a&&(t.style.pointerEvents="none",e.style.pointerEvents="auto"),/iPhone|iPad|iPod/i.test(navigator.userAgent)||"ontouchend"in document&&/Macintosh/.test(navigator.userAgent)?(t.removeEventListener("click",t_animationSBS__initHoverTrigger),t.addEventListener("click",t_animationSBS__initHoverTrigger)):(t.removeEventListener("mouseenter",t_animationSBS__initHoverTrigger),t.removeEventListener("mouseleave",t_animationSBS__initHoverTrigger),t.addEventListener("mouseenter",t_animationSBS__initHoverTrigger),t.addEventListener("mouseleave",t_animationSBS__initHoverTrigger))}))}function t_animationSBS__initHoverTrigger(t){var e=t.currentTarget,a=t.currentTarget["data-els-to-animate-on-hover"];function s(t){e!==t.target.closest(".t396__elem")&&(t_animateSbs__onActions__end(a),e.classList.remove("t-hover-mob-active"),document.removeEventListener("click",s))}"mouseenter"===t.type&&t_animateSbs__onActions__start(a),"mouseleave"===t.type&&t_animateSbs__onActions__end(a),"click"===t.type&&(e.classList.contains("t-hover-mob-active")||setTimeout((function(){t_animateSbs__onActions__start(a),e.classList.add("t-hover-mob-active")})),setTimeout((function(){document.addEventListener("click",s)})))}function t_animateSbs__onActions__connectTrgrsWithAnimatedEls(t,e,a){Array.prototype.forEach.call(t,(function(t){var s=t.triggerElems;if(s){var n=s?s.split(","):[],i=t.closest(".t396__artboard"),r=i?i.getAttribute("data-artboard-recid"):"";n.forEach((function(s){var n=r+s,i=document.querySelector(".tn-elem__"+r+s);if(i)if(e[n]&&e[n]["data-els-to-animate-on-"+a]){var o=e[n]["data-els-to-animate-on-"+a];(o=Array.prototype.slice.call(o)).push(t),e[n]["data-els-to-animate-on-"+a]=o}else e[n]=i,e[n].classList.add("js-sbs-anim-trigger_"+a),e[n]["data-els-to-animate-on-"+a]=[t]}))}else{var o=t.querySelector(".tn-atom__sbs-anim-wrapper");o&&(o["data-els-to-animate-on-"+a]=[t]),o&&o.classList.add("js-sbs-anim-trigger_"+a)}}))}function t_animateSbs__onActions__start(t){Array.prototype.forEach.call(t,(function(t){t.classList.contains("t-sbs-anim_playing")?t.setAttribute("data-planned-dir","play"):t_animateSbs__onActions__play(t)}))}function t_animateSbs__onActions__end(t){Array.prototype.forEach.call(t,(function(t){"loop"===t.getAttribute("data-animate-sbs-loop")?t.onanimationiteration=function(){t.classList.remove("t-sbs-anim_started"),t.classList.remove("t-sbs-anim_reversed"),t.classList.remove("t-sbs-anim_playing"),this.onanimationiteration=null}:t.classList.contains("t-sbs-anim_playing")?t.setAttribute("data-planned-dir","reverse"):t_animateSbs__onActions__playReverse(t)}))}function t_animateSbs__onActions__onAnimationEnd(t){var e=function(){t.classList.remove("t-sbs-anim_playing"),t.removeEventListener("animationend",t["data-callback-dep-anim"]);var e=t.getAttribute("data-planned-dir");"play"===e&&t.classList.contains("t-sbs-anim_reversed")?t_animateSbs__onActions__play(t):"reverse"!==e||t.classList.contains("t-sbs-anim_reversed")||t_animateSbs__onActions__playReverse(t),t.setAttribute("data-planned-dir","")};t.removeEventListener("animationend",e),t.addEventListener("animationend",e),t["data-callback-dep-anim"]=e}function t_animateSbs__getAnimationTime(t){for(var e,a=t.getAttribute("data-animate-sbs-opts")?JSON.parse(t.getAttribute("data-animate-sbs-opts").split("'").join('"')):[],s=0,n=0;n<a.length;n++){var i=a[n];s+=parseInt(i.ti)}return s}function t_animateSbs__onActions__play(t){t.classList.remove("t-sbs-anim_started"),t.classList.remove("t-sbs-anim_reversed"),t_animateSbs__forceRepaint(t);var e,a=["t-sbs-anim_started"];t_animateSbs__getAnimationTime(t)>0&&a.push("t-sbs-anim_playing"),a.forEach((function(e){t.classList.add(e)})),t_animateSbs__onActions__onAnimationEnd(t)}function t_animateSbs__onActions__playReverse(t){t.classList.remove("t-sbs-anim_started"),t_animateSbs__forceRepaint(t);var e,a=["t-sbs-anim_started","t-sbs-anim_reversed"];t_animateSbs__getAnimationTime(t)>0&&a.push("t-sbs-anim_playing"),a.forEach((function(e){t.classList.add(e)})),t_animateSbs__onActions__onAnimationEnd(t)}function t_animateSbs__forceRepaint(t){t.offsetWidth}function t_animateSbs__checkIntoviewEls(t,e){e&&e.length&&e.filter((function(t){var e=window.pageYOffset+t.triggerOffset,a="blockintoview"===t.animType?e>=t.blockTopOffset:e>=t.topOffset,s=t.closest(".t396").parentElement,n=s.classList.contains("t397__off")||s.classList.contains("t395__off")||s.classList.contains("t400__off");return!(a&&!t.classList.contains("t-sbs-anim_started")&&!n)||(t.classList.add("t-sbs-anim_started"),!1)}))}function t_animateParallax__checkOldIE(){var t=window.navigator.userAgent,e=t.indexOf("MSIE"),a="",s=!1;return e>0&&(8!==(a=parseInt(t.substring(e+5,t.indexOf(".",e))))&&9!==a||(s=!0)),s}function t_animationSBS__createEmptyStyleOptionsForKeyframes(t){return{moveX:t.every((function(t){return 0===t.styles.moveX})),moveY:t.every((function(t){return 0===t.styles.moveY})),scaleX:t.every((function(t){return 1===t.styles.scaleX})),scaleY:t.every((function(t){return 1===t.styles.scaleY})),rotate:t.every((function(t){return 0===t.styles.rotate})),blur:t.every((function(t){return 0===t.styles.blur})),opacity:t.every((function(t){return 1===t.styles.opacity})),fix:t.every((function(t){return!1===t.styles.fix}))}}function t_animationSbs__isOnlyScalableElem(){var t=-1!==navigator.userAgent.search("Firefox"),e=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;return t||e}function t_animationSbs__getZoom(t){var e=1,a=t.closest(".t396__artboard");return a&&a.classList.contains("t396__artboard_scale")&&(e=window.tn_scale_factor),e}function t_animateSbs__wrapAtomEls(){var t=document.querySelectorAll("[data-animate-sbs-event]");Array.prototype.forEach.call(t,(function(t){var e=t.querySelector(".tn-atom");if(e&&!e.closest(".tn-atom__sbs-anim-wrapper")){t_animateSbs__wrapEl(e,"tn-atom__sbs-anim-wrapper");var a=t.getAttribute("data-elem-type"),s=window.getComputedStyle(t).getPropertyValue("border-radius");if("shape"===a&&s&&parseInt(s)){var n=t.querySelector(".tn-atom__sbs-anim-wrapper");n&&(n.style.borderRadius=s)}}}))}function t_animateSbs__cashElsInfo(t){var e=t.els;t.triggerElemsAttrName="edit"===t.mode?"data-field-sbstrgels-value":"data-animate-sbs-trgels",Array.prototype.forEach.call(e,(function(e){e.state="unactive",e.animType="edit"===t.mode?e.getAttribute("data-field-sbsevent-value"):e.getAttribute("data-animate-sbs-event"),e.changeType="scroll"===e.animType?"scroll":"time",e.trigger="edit"===t.mode?e.getAttribute("data-field-sbstrg-value"):e.getAttribute("data-animate-sbs-trg"),e.trigger=e.trigger?e.trigger:1,e.triggerElems=e.getAttribute(t.triggerElemsAttrName),e.wrapperEl=e.querySelector(".tn-atom__sbs-anim-wrapper"),e.steps=[];var a="edit"===t.mode?e.getAttribute("data-field-sbsopts-value"):e.getAttribute("data-animate-sbs-opts");if(a){-1!==a.indexOf("fixed")&&(e.zIndexVal=window.getComputedStyle(e).getPropertyValue("z-index")),a=a.replace(/'/g,'"');var s=JSON.parse(a);t_animateSbs__addDelayStepsToStepsArr(s),e.loop="edit"===t.mode?e.getAttribute("data-field-sbsloop-value"):e.getAttribute("data-animate-sbs-loop"),t_animateSbs__cashElsTopOffset(e,t);for(var n=0,i=0;i<s.length;i++){var r={state:"unactive"};r.styles=t_animateSbs__getStylesObj(s[i]),"scroll"===e.changeType?(r.prevUnfixedDist=n,r.dist=s[i].di,!1===r.styles.fix&&(n+=Number(r.dist)),r.start=0===i?e.topOffset:e.steps[i-1].end,r.end=r.start+1*r.dist):(r.time=s[i].ti,r.ease=s[i].ea),e.steps.push(r)}t_animateSbs__updateInfoOnImgLoad(e,t),t_animateSbs__recalcStepsStylesDiff(e.steps)}}))}function t_animateSbs__reset(t){for(var e=t.els,a=0;a<e.length;a++){var s=e[a].animType;if("intoview"===s||"blockintoview"===s||"click"===s||"hover"===s){e[a].classList.remove("t-sbs-anim_started");var n=e[a].querySelector(".tn-atom__sbs-anim-wrapper");n&&(n.style.opacity="")}else{e[a].state="reseted";var i=e[a].wrapperEl;i&&(i.style.transform="",i.style.position="",i.style.top="",i.style.opacity="")}}}function t_animateSbs__onFuncLoad(t,e){"function"==typeof window[t]?e():setTimeout((function a(){if("function"!=typeof window[t]){if("complete"===document.readyState&&"function"!=typeof window[t])throw new Error(t+" is undefined");setTimeout(a,100)}else e()}))}function t_animateSbs__wrapEl(t,e){if(!t)return!1;var a=t.parentNode,s=document.createElement("div");s.classList.add(e),s.style.display="table",s.style.width="inherit",s.style.height="inherit",s.appendChild(t),a&&a.appendChild(s)}window.animationSBS__isInstagram=-1!==navigator.userAgent.indexOf("Instagram"),window.animationSBS__isIOS=-1!==navigator.userAgent.indexOf("iPhone")||-1!==navigator.userAgent.indexOf("iPad"),window.animationSBS__isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),"loading"!==document.readyState?t_animateSbs__init():document.addEventListener("DOMContentLoaded",t_animateSbs__init),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});