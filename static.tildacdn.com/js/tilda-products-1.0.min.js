function t_prod__init(e){var t=document.querySelector("#rec"+e);t&&(t=t.querySelectorAll(".js-product"),Array.prototype.forEach.call(t,function(t){t.querySelector(".js-product-option")&&t_prod__initProduct(e,t)}))}function t_prod__initProduct(t,e){t_prod__initPrice(e),t_prod__addEvents__options(t,e),t_prod__updatePrice(t,e)}function t_prod__initPrice(t){var e,r,o;t instanceof Element||(t=t[0]),t&&((e=t.querySelector(".js-product-price"))||(t.insertAdjacentHTML("beforeend",'<div style="display:none;" class="js-product-price"></div>'),e=t.querySelector(".js-product-price")),r=e.textContent,o=e.getAttribute("data-product-price-def"),t=e.getAttribute("data-product-price-def-str"),r?o||t||(t=t_prod__cleanPrice(r),e.setAttribute("data-product-price-def",t),e.setAttribute("data-product-price-def-str",r.replace(/"/g,""))):e.setAttribute("data-product-price-def",0))}function t_prod__updatePrice(t,e){var r,o,c,n;e instanceof Element||(e=e[0]),e&&(r=e.querySelector(".js-product-price:not(.js-store-prod-price-range-val)"),o=e.querySelectorAll(".js-product-option-variants"),c=e=0,r&&(n=+(n=r.getAttribute("data-product-price-def")),Array.prototype.forEach.call(o,function(t){var e;!t||(e=t.querySelector("option:checked").getAttribute("data-product-variant-price"))&&(t=t_prod__cleanPrice(e),-1!==e.indexOf("+")?c+=t:0!==parseFloat(t)&&(n=t))}),e=n+c,r.innerHTML=0<e?t_prod__showPrice(t_prod__roundPrice(e)):r.getAttribute("data-product-price-def-str")))}function t_prod__addEvents__options(r,t){t instanceof Element||(t=t[0]),t&&(t=t.querySelectorAll(".js-product-option-variants"),Array.prototype.forEach.call(t,function(t){var e=t.closest(".js-product");t.addEventListener("change",function(){t_prod__updatePrice(r,e)})}))}function t_prod__cleanPrice(t){return t?(t=(t=t.toString()).replace(",",".").replace(/[^0-9.]/g,""),t=parseFloat(t).toFixed(2),isNaN(t)&&(t=0),(t=+(t=parseFloat(t)))<0&&(t=0)):t=0,t}function t_prod__roundPrice(t){return t?(t=parseFloat(t).toFixed(2),(t=+(t=parseFloat(t)))<0&&(t=0)):t=0,t}function t_prod__showPrice(t){return t=t?(t=t.toString(),window.tcart&&window.tcart.currency_dec&&"00"===window.tcart.currency_dec&&(-1===t.indexOf(".")&&-1===t.indexOf(",")?t+=".00":1===t.substr(t.indexOf(".")+1).length&&(t+="0")),t=t.replace(/\B(?=(\d{3})+(?!\d))/g," "),window.tcart&&window.tcart.currency_sep&&"."===window.tcart.currency_sep?t.replace(",","."):t.replace(".",",")):""}Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),r=e.length>>>0,o=2<=arguments.length?arguments[1]:void 0,c=0;c<r;c++)if(c in e&&t.call(o,e[c],c,e))return!0;return!1}),function(t){var e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;t.matches=t.matchesSelector=e||function(t){var e=document.querySelectorAll(t),r=this;return Array.prototype.some.call(e,function(t){return t===r})}}(Element.prototype),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});
